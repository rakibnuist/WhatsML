import{h as o}from"./moment-BAtM24Ew.js";import{_ as w}from"./NoDataFound-KY-LTui4.js";import{_ as E}from"./Paginate-BtBw_72H.js";import{d as N,s as j,m as f,k as z,c as r,o as l,a as e,i as m,e as D,b as P,F as c,g as p,n as Y,t,u as d,h as V}from"./app-CHoD4jNo.js";import{_ as W}from"./UserLayout-T1Rud9jK.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const $={class:"mb-2 flex items-center justify-end"},L={class:"card max-w-max p-1"},S=["onClick"],T={class:"capitalize"},F={key:0,class:"alert alert-danger mb-2 text-base"},I={key:1,class:"alert alert-danger text-base"},A={key:2,class:"alert alert-warning text-base"},H={key:3,class:"mt-3 grid grid-cols-1 rounded-xl border border-primary-400 lg:grid-cols-12"},O={class:"col-span-1 flex flex-col justify-center gap-2 p-4 lg:col-span-7 lg:p-8"},U={class:"text-gray-400"},q={class:"col-span-1 flex flex-col gap-3 border-0 border-primary-400 p-4 sm:flex-row lg:col-span-5 lg:p-8 xl:border-l"},G={class:"mt-3 whitespace-nowrap text-3xl text-primary-500 lg:text-5xl"},J={class:"px-2"},K={class:"text-primary-500"},Q={class:"my-8 grid grid-cols-1 gap-14 lg:grid-cols-3"},R={key:0,class:"absolute -left-1 top-9 max-w-max rounded-r-xl bg-primary-600 px-4 capitalize text-primary-50"},X={class:"text-center text-2xl text-gray-400"},Z={class:"my-8 flex justify-center gap-2"},ee={class:"text-3xl"},te={class:"text-4xl"},se={class:"flex flex-col gap-2"},ae={class:"ml-2 text-sm"},le={class:"ml-2 text-sm"},re=["href"],ne={class:"mb-2"},ie={key:5,class:"table-responsive whitespace-nowrap rounded-primary"},oe={class:"ert-table table"},de={class:"text-center"},ue={class:"border-0"},ce={class:"text-center"},me=N({layout:W}),ke=Object.assign(me,{__name:"Index",props:["user","plans","orders","planByDays"],setup(n){var _,b;const u=n,{formatCurrency:y}=j(),M=f(()=>u.user.will_expire?o(u.user.will_expire).diff(o(),"days")<7:!1),C=f(()=>u.user.will_expire?o(u.user.will_expire).isBefore(o()):!1),h=z(((b=(_=u.planByDays)==null?void 0:_[0])==null?void 0:b.duration)??"monthly"),x=f(()=>u.plans.filter(a=>h.value==="monthly"?a.days===30:h.value==="yearly"?a.days===365:a.days>365));return(a,B)=>{var v,g,k;return l(),r(c,null,[e("div",$,[e("div",L,[(l(!0),r(c,null,p(n.planByDays,s=>(l(),r("button",{key:s.days,class:Y(["btn w-full px-14 py-2 md:w-auto",{"btn-primary":h.value===s.duration}]),onClick:i=>h.value=s.duration},[e("span",T,t(s.duration),1)],10,S))),128))])]),!n.user.will_expire||!n.user.plan||!n.user.plan_id?(l(),r("div",F,[e("p",null,t(a.trans("You haven't purchased any subscription plans yet.")),1)])):m("",!0),C.value?(l(),r("div",I,[e("p",null,t(a.trans("Your subscription has already expired")),1)])):M.value?(l(),r("div",A,[e("p",null,t(a.trans("Your current subscription plan is about to expire in less than 7 days")),1)])):m("",!0),n.user.will_expire!=null&&n.user.plan_id?(l(),r("div",H,[e("div",O,[e("h4",null,t(a.trans("Current Plan"))+" ("+t((v=n.user.plan)==null?void 0:v.title)+")",1),e("p",U,t(a.trans(`Unlimited access to our legal document library and online rental application tool,
          billed monthly.`)),1)]),e("div",q,[e("p",G,t(d(y)((g=n.user.plan)==null?void 0:g.price)),1),e("div",J,[e("p",K,t(n.user.plan.days===30?"Monthly":n.user.plan.days===365?"Yearly":"Lifetime")+" "+t(a.trans("Plan")),1),e("span",null,[V(t(a.trans("Your subscription will expire"))+" ",1),e("span",null,t(d(o)(n.user.will_expire).format("MMM DD, YYYY")),1)])])])])):m("",!0),e("div",Q,[(l(!0),r(c,null,p(x.value,s=>(l(),r("div",{key:s.id,class:Y(["flex flex-col justify-between overflow-hidden rounded-xl px-12 py-8 shadow-md",{"card relative border-2 border-primary-500 ":s.is_recommended,"border border-gray-200 dark:border-gray-700":s.is_recommended===0}])},[s.is_recommended?(l(),r("div",R,t(a.trans("popular")),1)):m("",!0),e("div",X,t(s.title),1),e("div",Z,[e("span",ee,t(d(y)(s.price)[0]),1),e("span",te,t(s.price),1),e("span",null,t(s.days===30?"Monthly":s.days===365?"Yearly":"Lifetime"),1)]),e("ul",se,[(l(!0),r(c,null,p(s.data,i=>(l(),r("li",{key:i.value,class:"text-capitalize flex items-center"},[e("span",ae,t(i.overview),1)]))),128)),(l(!0),r(c,null,p(s.extra_data,i=>(l(),r("li",{key:i.value,class:"text-capitalize flex items-center"},[e("span",le,t(i.value),1)]))),128))]),e("a",{href:a.route("user.subscription.payment",s.id),class:"btn btn-soft-primary mt-6 w-full"},t(a.trans("Choose Plan")),9,re)],2))),128))]),((k=x.value)==null?void 0:k.length)<1?(l(),D(w,{key:4})):m("",!0),e("h5",ne,t(a.trans("Subscription History")),1),n.orders.total?(l(),r("div",ie,[e("table",oe,[e("thead",null,[e("tr",null,[e("th",null,t(a.trans("Invoice No")),1),e("th",null,t(a.trans("Plan")),1),e("th",null,t(a.trans("Amount")),1),e("th",null,t(a.trans("Tax")),1),e("th",null,t(a.trans("Status")),1),e("th",null,t(a.trans("Expire Date")),1),e("th",de,t(a.trans("Created Date")),1)])]),e("tbody",ue,[(l(!0),r(c,null,p(n.orders.data,s=>{var i;return l(),r("tr",{key:s.id},[e("td",null,t(s.invoice_no),1),e("td",null,t((i=s.plan)==null?void 0:i.title),1),e("td",null,t(d(y)(s.amount)),1),e("td",null,t(d(y)(s.tax)),1),e("td",null,t(s.status),1),e("td",null,t(d(o)(s.will_expire).format("DD MMM, YYYY")),1),e("td",ce,t(d(o)(s.created_at).format("DD MMM, YYYY")),1)])}),128))])])])):(l(),D(w,{key:6})),P(E,{links:n.orders.links},null,8,["links"])],64)}}});export{ke as default};
