import{d as S,T as M,s as P,r as D,c as r,o as u,a as e,t as n,i as b,l as d,v as i,u as s,A,B as p,b as _,F as T,g as W,x as I,E as F}from"./app-CHoD4jNo.js";import{_ as N}from"./AdminLayout-Ddg1XhLg.js";import{_ as B}from"./SpinnerBtn-DagqeiVX.js";import{s as E}from"./multiselect-B4Pr08td.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const x={class:"space-y-6"},L={class:"card card-body flex-1"},$={class:"my-2"},R={class:"my-2"},Q={class:"my-2"},j={class:"my-2"},G={value:"30"},K={value:"365"},z={value:"999999"},H={class:"my-2"},J={class:"mb-2"},X={for:"toggle-featured",class:"toggle toggle-sm"},Y={class:"label label-md"},Z={class:"mb-2"},ee={for:"toggle-is_recommended",class:"toggle toggle-sm"},le={class:"label label-md"},ae={class:"mb-2"},se={for:"toggle-is_trial",class:"toggle toggle-sm"},te={class:"label label-md"},oe={key:0,class:"from-group trial-days mb-2 mt-2"},ne={class:"col-lg-12"},de={class:"col-lg-12"},ie={class:"mb-2"},re={for:"toggle-status",class:"toggle toggle-sm"},ue={class:"label label-md"},pe={class:"mt-6"},me={class:"card card-body flex-1 space-y-2"},ve={class:"my-2"},be={class:"label mb-1"},_e={class:"label mb-1"},ce={key:0,class:"my-2"},ge={class:"label mb-1"},ye={class:"label mb-1"},we={key:1,class:"my-2"},fe={class:"label mb-1"},Ve={class:"label mb-1"},Ue={class:"my-2"},ke={class:"label mb-1"},qe={class:"label mb-1"},Ce={key:2,class:"my-2"},he={class:"label mb-1"},Oe={class:"label mb-1"},Se={class:"my-2"},Me={class:"label mb-1"},Pe={class:"label mb-1"},De={class:"my-2"},Ae={class:"label mb-1"},Te={class:"label mb-1"},We={class:"my-2"},Ie={class:"label mb-1"},Fe={class:"label mb-1"},Ne={class:"my-2"},Be={class:"label mb-1"},Ee={class:"label mb-1"},xe={class:"my-2"},Le={class:"label mb-1"},$e={class:"label mb-1"},Re={class:"my-2"},Qe={class:"label mb-1"},je={class:"label mb-1 block"},Ge={class:"my-2"},Ke={class:"label mb-1"},ze={class:"label mb-1 block"},He={class:"my-2"},Je={class:"label mb-1"},Xe={class:"label mb-1 block"},Ye={class:"my-2"},Ze={class:"label mb-1"},el={class:"label mb-1 block"},ll={class:"my-2"},al={class:"label mb-1"},sl={class:"label mb-1 block"},tl={class:"my-2"},ol={for:"toggle-campaign",class:"toggle toggle-sm"},nl={class:"label label-md"},dl={class:"label mb-1 block"},il={class:"my-2"},rl={for:"toggle-auto_reply",class:"toggle toggle-sm"},ul={class:"label label-md"},pl={class:"label mb-1 block"},ml={class:"my-2"},vl={for:"toggle-quick_reply",class:"toggle toggle-sm"},bl={class:"label label-md"},_l={class:"label mb-1 block"},cl={class:"mb-2"},gl={class:"label mb-2 block font-semibold"},yl=["onUpdate:modelValue"],wl=["onUpdate:modelValue"],fl=["onClick"],Vl=S({layout:N}),Pl=Object.assign(Vl,{__name:"Create",props:["modules"],setup(f){const l=M({title:null,short_description:"",description:null,days:30,price:null,plan_data:{devices:{value:0,overview:""},messages:{value:0,overview:""},custom_template:{value:0,overview:""},credits:{value:0,overview:""},storage:{value:0,overview:""},workspaces:{value:0,overview:""},team_members:{value:0,overview:""},ai_training:{value:0,overview:""},web_scrape:{value:0,overview:""},apps:{value:0,overview:""},contacts:{value:0,overview:""},number_scanner:{value:0,overview:""},campaign:{value:!1,overview:""},auto_reply:{value:!1,overview:""},quick_reply:{value:!1,overview:""},modules:{value:[],overview:""}},extra_data:[],is_featured:!1,is_recommended:!1,is_trial:!1,status:!0,trial_days:0}),V={key:"",value:""},{moduleLabel:c}=P(),U=o=>{const a=c(o);a==="WaWeb"&&(l.plan_data={...l.plan_data,web_messages:{value:0,overview:""}}),a==="WaCloud"&&(l.plan_data={...l.plan_data,cloud_messages:{value:0,overview:""}}),(o="Flow")&&(l.plan_data={...l.plan_data,chat_flow:{value:0,overview:""}})},k=o=>{const a=c(o);a==="WaWeb"&&delete l.plan_data.web_messages,a==="WaCloud"&&delete l.plan_data.cloud_messages,a==="Flow"&&delete l.plan_data.chat_flow},q=()=>{l.plan_data.web_messages&&delete l.plan_data.web_messages,l.plan_data.cloud_messages&&delete l.plan_data.cloud_messages,label==="Flow"&&delete l.plan_data.chat_flow},C=()=>{l.extra_data.push({...V})},h=o=>{l.extra_data.splice(o,1)};function O(){var o,a,m;((o=l.extra_data)==null?void 0:o.length)<2&&!((a=l.extra_data[0])!=null&&a.key)&&!((m=l.extra_data[0])!=null&&m.value)&&(l.extra_data=null),l.post(route("admin.plan.store"),{onSuccess:()=>{F.success("Plan created successfully")}})}return(o,a)=>{var g,y;const m=D("Icon");return u(),r("div",x,[e("div",null,[e("strong",null,n(o.trans("Create Plan")),1),e("p",null,n(o.trans("Create a subscription plan to charge customers a recurring amount.")),1)]),e("form",{class:"flex flex-col-reverse items-start gap-8 lg:flex-row",onSubmit:a[46]||(a[46]=I(t=>O(),["prevent"]))},[e("div",L,[e("strong",null,n(o.trans("Plan Details")),1),e("div",$,[e("label",null,n(o.trans("Plan Name")),1),d(e("input",{type:"text",name:"title",required:"",class:"input","onUpdate:modelValue":a[0]||(a[0]=t=>s(l).title=t)},null,512),[[i,s(l).title]])]),e("div",R,[e("label",null,n(o.trans("Short Description (optional)")),1),d(e("input",{type:"text",class:"input","onUpdate:modelValue":a[1]||(a[1]=t=>s(l).short_description=t),placeholder:"Save ~20% when billed yearly"},null,512),[[i,s(l).short_description]])]),e("div",Q,[e("label",null,n(o.trans("Plan Description")),1),d(e("textarea",{"onUpdate:modelValue":a[2]||(a[2]=t=>s(l).description=t),required:"",class:"textarea"},null,512),[[i,s(l).description]])]),e("div",j,[e("label",null,n(o.trans("Select Duration")),1),d(e("select",{class:"select",name:"days","onUpdate:modelValue":a[3]||(a[3]=t=>s(l).days=t)},[e("option",G,n(o.trans("Monthly")),1),e("option",K,n(o.trans("yearly")),1),e("option",z,n(o.trans("Lifetime")),1)],512),[[A,s(l).days]])]),e("div",H,[e("label",null,n(o.trans("Price")),1),d(e("input",{type:"number",name:"price","onUpdate:modelValue":a[4]||(a[4]=t=>s(l).price=t),step:"any",required:"",class:"input"},null,512),[[i,s(l).price]])]),e("div",J,[e("label",X,[d(e("input",{"onUpdate:modelValue":a[5]||(a[5]=t=>s(l).is_featured=t),class:"toggle-input peer sr-only",id:"toggle-featured",type:"checkbox"},null,512),[[p,s(l).is_featured]]),a[47]||(a[47]=e("div",{class:"toggle-body"},null,-1)),e("span",Y,n(o.trans("Is Featured?")),1)])]),e("div",Z,[e("label",ee,[d(e("input",{"onUpdate:modelValue":a[6]||(a[6]=t=>s(l).is_recommended=t),class:"toggle-input peer sr-only",id:"toggle-is_recommended",type:"checkbox"},null,512),[[p,s(l).is_recommended]]),a[48]||(a[48]=e("div",{class:"toggle-body"},null,-1)),e("span",le,n(o.trans("Is recommended?")),1)])]),e("div",ae,[e("label",se,[d(e("input",{"onUpdate:modelValue":a[7]||(a[7]=t=>s(l).is_trial=t),class:"toggle-input peer sr-only",id:"toggle-is_trial",type:"checkbox"},null,512),[[p,s(l).is_trial]]),a[49]||(a[49]=e("div",{class:"toggle-body"},null,-1)),e("span",te,n(o.trans("Accept Trial?")),1)])]),s(l).is_trial?(u(),r("div",oe,[e("label",ne,n(o.trans("Trial days")),1),e("div",de,[d(e("input",{type:"number","onUpdate:modelValue":a[8]||(a[8]=t=>s(l).trial_days=t),name:"trial_days",class:"input",required:""},null,512),[[i,s(l).trial_days]])])])):b("",!0),e("div",ie,[e("label",re,[d(e("input",{"onUpdate:modelValue":a[9]||(a[9]=t=>s(l).status=t),class:"toggle-input peer sr-only",id:"toggle-status",type:"checkbox"},null,512),[[p,s(l).status]]),a[50]||(a[50]=e("div",{class:"toggle-body"},null,-1)),e("span",ue,n(o.trans("Activate This Plan?")),1)])]),e("div",pe,[_(B,{classes:"btn btn-primary",processing:s(l).processing,"btn-text":"Create"},null,8,["processing"])])]),e("div",me,[e("strong",null,n(o.trans("Plan Perks")),1),e("div",ve,[e("label",be,n(o.trans("Modules Access")),1),_(s(E),{onSelect:U,onDeselect:k,onClear:q,class:"multiselect-dark",modelValue:s(l).plan_data.modules.value,"onUpdate:modelValue":a[10]||(a[10]=t=>s(l).plan_data.modules.value=t),mode:"tags",options:f.modules,placeholder:"Select modules access",required:""},null,8,["modelValue","options"]),e("label",_e,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[11]||(a[11]=t=>s(l).plan_data.modules.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.modules.overview]])]),s(l).plan_data.web_messages?(u(),r("div",ce,[e("label",ge,n(o.trans("Web Messages (per month)")),1),d(e("input",{type:"number","onUpdate:modelValue":a[12]||(a[12]=t=>s(l).plan_data.web_messages.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.web_messages.value]]),e("label",ye,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=t=>s(l).plan_data.web_messages.overview=t),class:"input"},null,512),[[i,s(l).plan_data.web_messages.overview]])])):b("",!0),(g=s(l).plan_data)!=null&&g.cloud_messages?(u(),r("div",we,[e("label",fe,n(o.trans("Cloud Messages (per month)")),1),d(e("input",{type:"number","onUpdate:modelValue":a[14]||(a[14]=t=>s(l).plan_data.cloud_messages.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.cloud_messages.value]]),e("label",Ve,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[15]||(a[15]=t=>s(l).plan_data.cloud_messages.overview=t),class:"input"},null,512),[[i,s(l).plan_data.cloud_messages.overview]])])):b("",!0),e("div",Ue,[e("label",ke,n(o.trans("Devices")),1),d(e("input",{type:"number","onUpdate:modelValue":a[16]||(a[16]=t=>s(l).plan_data.devices.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.devices.value]]),e("label",qe,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[17]||(a[17]=t=>s(l).plan_data.devices.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.devices.overview]])]),(y=s(l).plan_data)!=null&&y.chat_flow?(u(),r("div",Ce,[e("label",he,n(o.trans("Chat Flow")),1),d(e("input",{type:"number","onUpdate:modelValue":a[18]||(a[18]=t=>s(l).plan_data.chat_flow.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.chat_flow.value]]),e("label",Oe,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[19]||(a[19]=t=>s(l).plan_data.chat_flow.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.chat_flow.overview]])])):b("",!0),e("div",Se,[e("label",Me,n(o.trans("Custom Template")),1),d(e("input",{type:"number","onUpdate:modelValue":a[20]||(a[20]=t=>s(l).plan_data.custom_template.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.custom_template.value]]),e("label",Pe,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[21]||(a[21]=t=>s(l).plan_data.custom_template.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.custom_template.overview]])]),e("div",De,[e("label",Ae,n(o.trans("Credits")),1),d(e("input",{type:"number","onUpdate:modelValue":a[22]||(a[22]=t=>s(l).plan_data.credits.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.credits.value]]),e("label",Te,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[23]||(a[23]=t=>s(l).plan_data.credits.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.credits.overview]])]),e("div",We,[e("label",Ie,n(o.trans("Storage (GB)")),1),d(e("input",{type:"number","onUpdate:modelValue":a[24]||(a[24]=t=>s(l).plan_data.storage.value=t),step:"0.01",required:"",class:"input"},null,512),[[i,s(l).plan_data.storage.value]]),e("label",Fe,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[25]||(a[25]=t=>s(l).plan_data.storage.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.storage.overview]])]),e("div",Ne,[e("label",Be,n(o.trans("Workspaces")),1),d(e("input",{type:"number","onUpdate:modelValue":a[26]||(a[26]=t=>s(l).plan_data.workspaces.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.workspaces.value]]),e("label",Ee,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[27]||(a[27]=t=>s(l).plan_data.workspaces.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.workspaces.overview]])]),e("div",xe,[e("label",Le,n(o.trans("Team Members")),1),d(e("input",{type:"number","onUpdate:modelValue":a[28]||(a[28]=t=>s(l).plan_data.team_members.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.team_members.value]]),e("label",$e,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[29]||(a[29]=t=>s(l).plan_data.team_members.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.team_members.overview]])]),e("div",Re,[e("label",Qe,n(o.trans("AI Training Dataset")),1),d(e("input",{type:"number","onUpdate:modelValue":a[30]||(a[30]=t=>s(l).plan_data.ai_training.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.ai_training.value]]),e("label",je,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[31]||(a[31]=t=>s(l).plan_data.ai_training.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.ai_training.overview]])]),e("div",Ge,[e("label",Ke,n(o.trans("Phone Number Web Scraping Query (per month)")),1),d(e("input",{type:"number","onUpdate:modelValue":a[32]||(a[32]=t=>s(l).plan_data.web_scrape.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.web_scrape.value]]),e("label",ze,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[33]||(a[33]=t=>s(l).plan_data.web_scrape.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.web_scrape.overview]])]),e("div",He,[e("label",Je,n(o.trans("REST API (Apps Limit)")),1),d(e("input",{type:"number","onUpdate:modelValue":a[34]||(a[34]=t=>s(l).plan_data.apps.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.apps.value]]),e("label",Xe,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[35]||(a[35]=t=>s(l).plan_data.apps.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.apps.overview]])]),e("div",Ye,[e("label",Ze,n(o.trans("Custom Contacts")),1),d(e("input",{type:"number","onUpdate:modelValue":a[36]||(a[36]=t=>s(l).plan_data.contacts.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.contacts.value]]),e("label",el,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[37]||(a[37]=t=>s(l).plan_data.contacts.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.contacts.overview]])]),e("div",ll,[e("label",al,n(o.trans("Number Scanning (per month)")),1),d(e("input",{type:"number","onUpdate:modelValue":a[38]||(a[38]=t=>s(l).plan_data.number_scanner.value=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.number_scanner.value]]),e("label",sl,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[39]||(a[39]=t=>s(l).plan_data.number_scanner.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.number_scanner.overview]])]),e("div",tl,[e("label",ol,[d(e("input",{"onUpdate:modelValue":a[40]||(a[40]=t=>s(l).plan_data.campaign.value=t),class:"toggle-input peer sr-only",id:"toggle-campaign",type:"checkbox"},null,512),[[p,s(l).plan_data.campaign.value]]),a[51]||(a[51]=e("div",{class:"toggle-body"},null,-1)),e("span",nl,n(o.trans("Campaign")),1)]),e("label",dl,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[41]||(a[41]=t=>s(l).plan_data.campaign.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.campaign.overview]])]),e("div",il,[e("label",rl,[d(e("input",{"onUpdate:modelValue":a[42]||(a[42]=t=>s(l).plan_data.auto_reply.value=t),class:"toggle-input peer sr-only",id:"toggle-auto_reply",type:"checkbox"},null,512),[[p,s(l).plan_data.auto_reply.value]]),a[52]||(a[52]=e("div",{class:"toggle-body"},null,-1)),e("span",ul,n(o.trans("Auto Reply")),1)]),e("label",pl,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[43]||(a[43]=t=>s(l).plan_data.auto_reply.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.auto_reply.overview]])]),e("div",ml,[e("label",vl,[d(e("input",{"onUpdate:modelValue":a[44]||(a[44]=t=>s(l).plan_data.quick_reply.value=t),class:"toggle-input peer sr-only",id:"toggle-quick_reply",type:"checkbox"},null,512),[[p,s(l).plan_data.quick_reply.value]]),a[53]||(a[53]=e("div",{class:"toggle-body"},null,-1)),e("span",bl,n(o.trans("Quick Reply")),1)]),e("label",_l,n(o.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":a[45]||(a[45]=t=>s(l).plan_data.quick_reply.overview=t),required:"",class:"input"},null,512),[[i,s(l).plan_data.quick_reply.overview]])]),e("div",cl,[e("label",gl,n(o.trans("Add Extra Perks")),1),(u(!0),r(T,null,W(s(l).extra_data,(t,w)=>(u(),r("div",{class:"mb-2 flex items-center gap-x-2",key:w},[d(e("input",{type:"text",class:"input",placeholder:"Key","onUpdate:modelValue":v=>t.key=v},null,8,yl),[[i,t.key]]),d(e("input",{type:"text",class:"input",placeholder:"Value","onUpdate:modelValue":v=>t.value=v},null,8,wl),[[i,t.value]]),e("button",{type:"button",onClick:v=>h(w),class:"btn btn-danger"},[_(m,{icon:"bx:x",class:"text-lg"})],8,fl)]))),128)),e("button",{type:"button",onClick:C,class:"btn btn-primary"},[_(m,{icon:"bx:plus",class:"text-lg"})])])])],32)])}}});export{Pl as default};
