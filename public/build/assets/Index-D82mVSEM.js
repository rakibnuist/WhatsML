import{d as H,j as B,s as D,T as k,r as M,c,o as u,a as e,b as d,F as b,g as x,t as s,u as t,l as g,f as l,w as y,x as N,v as E,A as I,N as S}from"./app-CHoD4jNo.js";import{_ as U}from"./AdminLayout-Ddg1XhLg.js";import{_ as j}from"./SpinnerBtn-DagqeiVX.js";import{s as F}from"./vue-draggable-plus-BXHDRgZL.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const G={class:"grid gap-6 lg:grid-cols-2"},O={class:"mb-1 font-semibold capitalize"},R={class:"table-responsive whitespace-nowrap rounded-primary"},J={class:"table"},K={class:"!text-right"},P=["onEnd"],Q={class:"cursor-move"},W={class:"cursor-move"},X={class:"flex justify-end"},Y={class:"dropdown","data-placement":"bottom-start"},Z={class:"dropdown-toggle"},ee={class:"dropdown-content w-40"},te={class:"dropdown-list"},se={class:"dropdown-list-item"},oe={class:"dropdown-list-item"},ne=["onClick"],ae={class:"dropdown-list-item"},le=["onClick"],ie={class:"label label-required mb-1"},de={class:"label label-required mb-1"},re={value:""},ce=["value"],ue={class:"label label-required"},pe={class:"flex justify-between gap-2"},me=H({layout:U}),xe=Object.assign(me,{__name:"Index",props:["menus"],setup(f){const w=B(),q=f,{deleteRow:L,trim:C}=D(),p=k({heading:null,location:""}),i=k({heading:null,location:""}),T=(n,o)=>{i.heading=n.heading,i.location=o,i.id=n.id,w.open("editMenu")};function V(){S.post(route("admin.sidebar-menu.store"),p,{onSuccess:()=>{p.reset(),w.close("createModal")}})}function $(n,o=null,r=null){o&&n&&(i.heading=n.heading,i.location=r,i.id=n.id),S.patch(route("admin.sidebar-menu.update",i.id),i,{onSuccess:()=>{w.close("editMenu"),setTimeout(()=>window.location.reload(),1e3)}})}const z=n=>{setTimeout(()=>{const o=q.menus[n];if(o){const r=o.map((v,h)=>({id:v.id,order:h+1}));S.patch(route("admin.sidebar-menu.arrange",n),{items:r},{onSuccess:()=>{setTimeout(()=>window.location.reload(),1e3)}})}},500)};return(n,o)=>{const r=M("Icon"),v=M("Link"),h=M("Modal");return u(),c(b,null,[e("div",G,[(u(!0),c(b,null,x(f.menus,(a,m)=>(u(),c("div",{key:m},[e("p",O,s(t(C)(m)),1),e("div",R,[e("table",J,[e("thead",null,[e("tr",null,[e("th",null,s(t(l)("SN")),1),e("th",null,s(t(l)("Group Heading")),1),e("th",K,s(t(l)("Action")),1)])]),g((u(),c("tbody",{onEnd:_=>z(m)},[(u(!0),c(b,null,x(a,_=>(u(),c("tr",{key:_.id},[e("td",Q,s(_.order),1),e("td",W,s(_.heading||"No Heading (N/A)"),1),e("td",null,[e("div",X,[e("div",Y,[e("div",Z,[d(r,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),e("div",ee,[e("ul",te,[e("li",se,[d(v,{href:n.route("admin.sidebar-menu.show",{id:_.id||m,location:m}),class:"dropdown-link"},{default:y(()=>[d(r,{class:"h-6 text-slate-400",icon:"fe:list-bullet"}),e("span",null,s(t(l)("Manage")),1)]),_:2},1032,["href"])]),e("li",oe,[e("button",{onClick:A=>T(_,m),class:"dropdown-link",type:"button"},[d(r,{class:"h-6 text-slate-400",icon:"material-symbols:edit-outline"}),e("span",null,s(t(l)("Edit")),1)],8,ne)]),e("li",ae,[e("button",{type:"button",class:"dropdown-link",onClick:A=>t(L)(n.route("admin.sidebar-menu.destroy",{id:_.id,location:m}))},[d(r,{class:"h-6 text-slate-400",icon:"fe:trash"}),e("span",null,s(t(l)("Delete")),1)],8,le)])])])])])])]))),128))],40,P)),[[t(F),a]])])])]))),128))]),d(h,{state:"createModal","modal-type":"sidebar","modal-size":"w-1/4","header-state":!0,"header-title":"Add New Menu"},{default:y(()=>[e("form",{onSubmit:N(V,["prevent"]),class:"mt-5 space-y-3"},[e("div",null,[e("label",ie,s(t(l)("Group Headings")),1),g(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>t(p).heading=a),name:"heading",class:"input",required:"",placeholder:"Example"},null,512),[[E,t(p).heading]])]),e("div",null,[e("label",de,s(t(l)("Select Menu Location")),1),g(e("select",{class:"select capitalize",name:"location","onUpdate:modelValue":o[1]||(o[1]=a=>t(p).location=a)},[e("option",re,s(t(l)("Select Menu Location")),1),(u(!0),c(b,null,x(Object.keys(f.menus),a=>(u(),c("option",{value:a,key:a},s(t(C)(a)),9,ce))),128))],512),[[I,t(p).location]])]),d(j,{classes:"btn btn-primary w-full",processing:t(p).processing,"btn-text":t(l)("Create")},null,8,["processing","btn-text"])],32)]),_:1}),d(h,{state:"editMenu","modal-type":"sidebar","modal-size":"w-1/4","header-state":!0,"header-title":"Edit Menu"},{default:y(()=>[e("form",{onSubmit:N($,["prevent"]),class:"mt-5 space-y-4"},[e("div",null,[e("label",ue,s(t(l)("Menu Name")),1),g(e("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>t(i).heading=a),type:"text",name:"heading",class:"input",required:"",placeholder:"Heading"},null,512),[[E,t(i).heading]])]),e("div",pe,[d(j,{classes:"btn btn-primary w-full",processing:t(i).processing,"btn-text":t(l)("Save Changes")},null,8,["processing","btn-text"])])],32)]),_:1})],64)}}});export{xe as default};
