import{d as U,s as V,f as a,T as C,r as k,c,o as i,b as u,a as t,w as S,l as p,t as o,u as e,F as _,g as w,A as v,v as g,e as F,n as T}from"./app-CHoD4jNo.js";import{_ as Y}from"./AdminLayout-Ddg1XhLg.js";import{_ as $}from"./Paginate-BtBw_72H.js";import{_ as M}from"./NoDataFound-KY-LTui4.js";import{_ as B}from"./FilterDropdown-BWymQW5G.js";import{h as O}from"./moment-BAtM24Ew.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";import"./SpinnerBtn-DagqeiVX.js";const L={class:"mb-2"},R={value:""},j=["value"],z={class:"mb-2"},q={class:"mb-2"},G={value:"active"},H={value:"inactive"},J={class:"mb-2"},K={value:""},P=["value"],Q={class:"mb-2"},W={class:"mb-2"},X={value:"active"},Z={value:"inactive"},tt={class:"table-responsive whitespace-nowrap rounded-primary"},et={class:"table"},st={class:"!text-end"},ot={key:0},at={class:"text-center"},nt={class:"flex justify-end"},lt={class:"dropdown","data-placement":"bottom-start"},it={class:"dropdown-toggle"},dt={class:"dropdown-content w-40"},ct={class:"dropdown-list"},rt={class:"dropdown-list-item"},ut=["onClick"],mt={class:"dropdown-list-item"},pt=["onClick"],_t=U({layout:Y}),It=Object.assign(_t,{__name:"Index",props:["states","counter","countries"],setup(m){const{deleteRow:x}=V(),b=m,I=[{value:"name",label:"State Name"},{value:"country_name",label:"Country Name"},{label:"Status",value:"status",options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}]}];b.counter.total,a("Total"),b.counter.active,a("Active"),b.counter.inactive,a("Inactive");const d=C({country_id:"",name:"",status:"active"}),N=()=>{d.post(route("admin.states.store"),{onSuccess:()=>drawer.of("#addNewItemDrawer").hide(),onFinish:()=>form.reset()})},n=C({id:null,country_id:"",name:"",status:"active"}),D=r=>{n.id=r.id,n.country_id=r.country_id,n.name=r.name,n.status=r.status,drawer.of("#updateItemDrawer").show()},A=()=>{n.put(route("admin.states.update",n.id),{onSuccess:()=>n.reset(),onFinish:()=>drawer.of("#updateItemDrawer").hide()})};return(r,l)=>{const f=k("Drawer"),h=k("Icon");return i(),c(_,null,[u(f,{id:"addNewItemDrawer",title:e(a)("Add New State"),handleSubmit:N,processing:e(d).processing},{default:S(()=>[t("div",L,[t("label",null,o(e(a)("Country")),1),p(t("select",{"onUpdate:modelValue":l[0]||(l[0]=s=>e(d).country_id=s),class:"select"},[t("option",R,o(e(a)("SELECT COUNTRY")),1),(i(!0),c(_,null,w(m.countries,s=>(i(),c("option",{key:s.id,value:s.id},o(s.name)+" ("+o(s.code)+") ",9,j))),128))],512),[[v,e(d).country_id]])]),t("div",z,[t("label",null,o(e(a)("State Name")),1),p(t("input",{"onUpdate:modelValue":l[1]||(l[1]=s=>e(d).name=s),class:"input",placeholder:"California"},null,512),[[g,e(d).name]])]),t("div",q,[t("label",null,o(e(a)("Status")),1),p(t("select",{"onUpdate:modelValue":l[2]||(l[2]=s=>e(d).status=s),class:"select"},[t("option",G,o(e(a)("Active")),1),t("option",H,o(e(a)("Inactive")),1)],512),[[v,e(d).status]])])]),_:1},8,["title","processing"]),u(f,{id:"updateItemDrawer",title:e(a)("Edit State"),handleSubmit:A,processing:e(n).processing},{default:S(()=>[t("div",J,[t("label",null,o(e(a)("Country")),1),p(t("select",{"onUpdate:modelValue":l[3]||(l[3]=s=>e(n).country_id=s),class:"select"},[t("option",K,o(e(a)("SELECT COUNTRY")),1),(i(!0),c(_,null,w(m.countries,s=>(i(),c("option",{key:s.id,value:s.id},o(s.name)+" ("+o(s.code)+") ",9,P))),128))],512),[[v,e(n).country_id]])]),t("div",Q,[t("label",null,o(e(a)("State Name")),1),p(t("input",{"onUpdate:modelValue":l[4]||(l[4]=s=>e(n).name=s),class:"input",placeholder:"California"},null,512),[[g,e(n).name]])]),t("div",W,[t("label",null,o(e(a)("Status")),1),p(t("select",{"onUpdate:modelValue":l[5]||(l[5]=s=>e(n).status=s),class:"select"},[t("option",X,o(e(a)("Active")),1),t("option",Z,o(e(a)("Inactive")),1)],512),[[v,e(n).status]])])]),_:1},8,["title","processing"]),u(B,{action:r.route("admin.states.index"),options:I},null,8,["action"]),t("div",tt,[t("table",et,[t("thead",null,[t("tr",null,[t("th",null,o(e(a)("#")),1),t("th",null,o(e(a)("State Name")),1),t("th",null,o(e(a)("Country Name")),1),t("th",null,o(e(a)("Status")),1),t("th",null,o(e(a)("Created At")),1),t("th",st,o(e(a)("Actions")),1)])]),m.states.total?(i(),c("tbody",ot,[(i(!0),c(_,null,w(m.states.data,s=>{var y;return i(),c("tr",{key:s.id},[t("td",null,o(s.id),1),t("td",null,o(s.name),1),t("td",null,o(((y=s.country)==null?void 0:y.name)??"na"),1),t("td",null,[t("div",{class:T([[s.status=="active"?"badge-primary":"badge-secondary"],"badge capitalize"])},o(s.status),3)]),t("td",at,o(e(O)(s.created_at).format("DD MMM, YYYY")),1),t("td",null,[t("div",nt,[t("div",lt,[t("div",it,[u(h,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",dt,[t("ul",ct,[t("li",rt,[t("button",{onClick:E=>D(s),class:"dropdown-link"},[u(h,{class:"h-6",icon:"bx:pencil"}),t("span",null,o(e(a)("Edit")),1)],8,ut)]),t("li",mt,[t("button",{type:"button",class:"dropdown-link",onClick:E=>e(x)(r.route("admin.states.destroy",s))},[u(h,{class:"h-6",icon:"material-symbols:delete-outline"}),t("span",null,o(e(a)("Delete")),1)],8,pt)])])])])])])])}),128))])):(i(),F(M,{key:1,"for-table":"true"}))])]),u($,{links:m.states.links},null,8,["links"])],64)}}});export{It as default};
