import{d as S,s as A,T as F,k as N,r as V,y as j,c as u,o as c,a as t,b as r,e as $,t as o,u as e,f as s,F as m,g as M,l as d,h as T,n as h,x as f,v as g,A as _,N as U}from"./app-CHoD4jNo.js";import{_ as q}from"./AdminLayout-Ddg1XhLg.js";import{_ as B}from"./Paginate-BtBw_72H.js";import{h as E}from"./moment-BAtM24Ew.js";import{_ as w}from"./SpinnerBtn-DagqeiVX.js";import{_ as z}from"./NoDataFound-KY-LTui4.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const P={class:"space-y-6"},H={class:"table-responsive whitespace-nowrap rounded-primary"},L={class:"table"},O={class:""},R={class:""},Y={class:""},G={class:""},J={class:""},K={class:"flex justify-end"},Q={key:0},W={class:"text-left"},X={class:"mr-1 inline w-12 rounded-full",alt:"preview"},Z={class:"text-left"},tt={class:"text-left"},et={class:"text-left"},st={class:"flex justify-end"},ot={class:"dropdown","data-placement":"bottom-start"},at={class:"dropdown-toggle"},lt={class:"dropdown-content w-40"},it={class:"dropdown-list"},nt={class:"dropdown-list-item"},dt=["onClick"],rt={class:"dropdown-list-item"},ct=["onClick"],ut={id:"addNewCategoryDrawer",class:"drawer drawer-right"},_t={class:"drawer-header"},pt={class:"drawer-body"},bt={class:"mb-2"},vt={class:"label mb-2"},mt={class:"mb-2"},ht={class:"label mb-2"},ft={class:"mb-2"},gt={class:"label mb-2"},wt={class:"mb-2"},yt={class:"label mb-2"},xt={value:"1"},Ct={value:"0"},kt={class:"mb-2"},Dt={class:"label mb-2"},It={value:"1"},St={value:"0"},At={class:"drawer-footer"},Ft={class:"flex justify-end gap-2"},Nt={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},Vt={id:"editCategoryDrawer",class:"drawer drawer-right"},jt={class:"drawer-header"},$t={class:"drawer-body"},Mt={class:"mb-2"},Tt={class:"label mb-2"},Ut={class:"mb-2"},qt={class:"label mb-2"},Bt={class:"mb-2"},Et={class:"label mb-2"},zt={value:"1"},Pt={value:"0"},Ht={class:"mb-2"},Lt={class:"label mb-2"},Ot={value:"1"},Rt={value:"0"},Yt={class:"drawer-footer"},Gt={class:"flex justify-end gap-2"},Jt={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},Kt=S({layout:q}),ie=Object.assign(Kt,{__name:"Index",props:["categories","totalCategories","activeCategories","inActiveCategories","languages","buttons","segments"],setup(p){const{deleteRow:y}=A(),n=F({title:"",status:"active",icon:null,preview:null,is_featured:0}),i=N({}),x=()=>{n.post(route("admin.project-categories.store"),{onSuccess:()=>{n.reset(),drawer.of("#addNewCategoryDrawer").hide()}})},C=b=>{i.value={...b},drawer.of("#editCategoryDrawer").show()},k=()=>{i.value.preview instanceof File||(i.value.preview=null),U.post(route("admin.project-categories.update",i.value.id),{_method:"PATCH",category:i.value},{onSuccess:()=>{i.value={},drawer.of("#editCategoryDrawer").hide()}})};return(b,l)=>{const v=V("Icon"),D=j("lazy");return c(),u(m,null,[t("div",P,[t("div",H,[t("table",L,[t("thead",null,[t("tr",null,[t("th",O,o(e(s)("Name")),1),t("th",R,o(e(s)("Slug")),1),t("th",Y,o(e(s)("Status")),1),t("th",G,o(e(s)("Featured")),1),t("th",J,o(e(s)("Created At")),1),t("th",K,o(e(s)("Action")),1)])]),p.categories.total>0?(c(),u("tbody",Q,[(c(!0),u(m,null,M(p.categories.data,a=>(c(),u("tr",{key:a.id},[t("td",W,[d(t("img",X,null,512),[[D,a.preview]]),T(" "+o(a.title),1)]),t("td",Z,o(a.slug),1),t("td",tt,[t("span",{class:h(["badge",a.status==1?"badge-primary":"badge-danger"])},o(a.status==1?e(s)("Active"):e(s)("Inactive")),3)]),t("td",et,[t("span",{class:h(["badge",a.is_featured==1?"badge-success":"badge-danger"])},o(a.is_featured==1?e(s)("Featured"):e(s)("Not Featured")),3)]),t("td",null,o(e(E)(a.created_at).format("D-MMM-Y")),1),t("td",null,[t("div",st,[t("div",ot,[t("div",at,[r(v,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",lt,[t("ul",it,[t("li",nt,[t("button",{onClick:I=>C(a),class:"dropdown-link"},[r(v,{class:"w-30 text-lg",icon:"bx:edit"}),t("span",null,o(e(s)("Edit")),1)],8,dt)]),t("li",rt,[t("button",{as:"button",class:"dropdown-link",onClick:I=>e(y)(b.route("admin.project-categories.destroy",a.id))},[r(v,{class:"w-30 text-lg",icon:"bx:trash"}),t("span",null,o(e(s)("Delete")),1)],8,ct)])])])])])])]))),128))])):(c(),$(z,{key:1,"for-table":"true"}))])]),r(B,{links:p.categories.links},null,8,["links"])]),t("div",ut,[t("form",{onSubmit:l[5]||(l[5]=f(a=>x(),["prevent"]))},[t("div",_t,[t("h5",null,o(e(s)("Add New Category")),1),l[11]||(l[11]=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1))]),t("div",pt,[t("div",bt,[t("label",vt,o(e(s)("Title")),1),d(t("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>e(n).title=a),type:"text",class:"input",required:""},null,512),[[g,e(n).title]])]),t("div",mt,[t("label",ht,o(e(s)("Icon")),1),t("input",{onInput:l[1]||(l[1]=a=>e(n).icon=a.target.files[0]),type:"file",class:"input"},null,32)]),t("div",ft,[t("label",gt,o(e(s)("Preview")),1),t("input",{onInput:l[2]||(l[2]=a=>e(n).preview=a.target.files[0]),type:"file",class:"input",required:""},null,32)]),t("div",wt,[t("label",yt,o(e(s)("Status")),1),d(t("select",{required:"","onUpdate:modelValue":l[3]||(l[3]=a=>e(n).status=a),class:"select",name:"status"},[t("option",xt,o(e(s)("Active")),1),t("option",Ct,o(e(s)("Deactivate")),1)],512),[[_,e(n).status]])]),t("div",kt,[t("label",Dt,o(e(s)("IsFeatured")),1),d(t("select",{required:"","onUpdate:modelValue":l[4]||(l[4]=a=>e(n).is_featured=a),class:"select",name:"IsFeatured"},[t("option",It,o(e(s)("Active")),1),t("option",St,o(e(s)("Deactivate")),1)],512),[[_,e(n).is_featured]])])]),t("div",At,[t("div",Ft,[t("button",Nt,[t("span",null,o(e(s)("Close")),1)]),r(w,{classes:"btn btn-primary",processing:e(n).processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)]),t("div",Vt,[t("form",{onSubmit:l[10]||(l[10]=f(a=>k(),["prevent"]))},[t("div",jt,[t("h5",null,o(e(s)("Edit Category")),1),l[12]||(l[12]=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1))]),t("div",$t,[t("div",Mt,[t("label",Tt,o(e(s)("Title")),1),d(t("input",{"onUpdate:modelValue":l[6]||(l[6]=a=>i.value.title=a),type:"text",class:"input",required:""},null,512),[[g,i.value.title]])]),t("div",Ut,[t("label",qt,o(e(s)("Preview")),1),t("input",{onInput:l[7]||(l[7]=a=>i.value.preview=a.target.files[0]),type:"file",class:"input"},null,32)]),t("div",Bt,[t("label",Et,o(e(s)("Status")),1),d(t("select",{"onUpdate:modelValue":l[8]||(l[8]=a=>i.value.status=a),class:"select",name:"status"},[t("option",zt,o(e(s)("Active")),1),t("option",Pt,o(e(s)("Inactive")),1)],512),[[_,i.value.status]])]),t("div",Ht,[t("label",Lt,o(e(s)("IsFeatured")),1),d(t("select",{"onUpdate:modelValue":l[9]||(l[9]=a=>i.value.is_featured=a),class:"select",name:"is_featured"},[t("option",Ot,o(e(s)("Active")),1),t("option",Rt,o(e(s)("Inactive")),1)],512),[[_,i.value.is_featured]])])]),t("div",Yt,[t("div",Gt,[t("button",Jt,[t("span",null,o(e(s)("Close")),1)]),r(w,{classes:"btn btn-primary",processing:i.value.processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{ie as default};
