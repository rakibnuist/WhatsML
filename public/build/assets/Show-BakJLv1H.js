import{d as g,k as b,y as f,c as n,o as d,a as t,l as i,t as a,F as _,g as w,n as y,u as k,x as S,v as j,A as M,N as z,E as D}from"./app-CHoD4jNo.js";import{_ as Y}from"./AdminLayout-Ddg1XhLg.js";import{h as B}from"./moment-BAtM24Ew.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const C={class:"h-fit space-y-6"},N={class:"h-full"},V={class:"relative mx-auto rounded-primary bg-white shadow dark:bg-slate-800 2xl:w-8/12"},$={class:"flex items-center justify-between rounded-t-primary border-b border-b-slate-200 p-4 dark:border-b-slate-600"},E={class:"flex items-center justify-start gap-x-3"},F={class:"avatar avatar-circle avatar-indicator avatar-indicator-online"},O={class:"avatar-img",alt:"profile-img"},T={class:"whitespace-nowrap text-sm font-medium text-slate-700 dark:text-slate-100"},U={class:"whitespace-normal text-sm font-normal text-slate-500 dark:text-slate-400"},A={class:"relative max-h-[calc(100vh-18rem)] overflow-auto px-4 pb-28 md:max-h-[calc(100vh-17rem)]","data-simplebar":""},L={class:"space-y-3"},P={class:"flex gap-x-3 group-[.pr]:flex-row-reverse"},q={class:"avatar avatar-circle avatar-sm shrink-0"},G={class:"avatar-img",onerror:"this.src = '/images/avatar1.png'",alt:"profile-img"},H={class:"flex max-w-sm flex-col items-start gap-y-2 group-[.pr]:items-end"},I={class:"rounded-primary rounded-tl-none bg-slate-100 p-2 text-sm text-slate-600 group-[.pr]:rounded-tl-primary group-[.pr]:rounded-tr-none group-[.pr]:bg-primary-500 group-[.pr]:text-slate-100 dark:bg-slate-700 dark:text-slate-300"},J={class:"text-xs font-normal text-slate-400"},K={class:"absolute bottom-[-0.5px] left-0 right-0 z-10 rounded-b-primary bg-white py-4 dark:bg-slate-800"},Q={class:"flex items-center justify-end gap-x-4 px-4"},R={value:"1"},W={value:"2"},X={value:"0"},Z=["disabled"],tt={class:"hidden md:inline-block"},st=g({layout:Y}),dt=Object.assign(st,{__name:"Show",props:["segments","buttons","support"],setup(o){const u=o,r=b({message:"",status:u.support.status}),x=()=>{z.patch(route("admin.support.update",u.support.id),{status:r.value.status,message:r.value.message},{onSuccess:()=>{r.value.message="",D.success("Submitted successfully")}})};return(l,s)=>{var p,m,h,v;const c=f("lazy");return d(),n("div",C,[t("div",N,[t("div",V,[t("div",$,[t("div",E,[s[2]||(s[2]=t("button",{id:"chat-btn-show-sidebar",class:"text-slate-500 hover:text-slate-700 focus:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300 dark:focus:text-slate-300 xl:hidden"},[t("i",{width:"20",height:"20","data-feather":"menu"})],-1)),t("div",F,[i(t("img",O,null,512),[[c,(p=o.support.user)!=null&&p.avatar?(m=o.support.user)==null?void 0:m.avatar:`https://ui-avatars.com/api/?name=${(h=o.support.user)==null?void 0:h.name}`]])]),t("div",null,[t("h6",T,a((v=o.support.user)==null?void 0:v.name),1),t("p",U,a(l.trans("Subject :"))+" "+a(o.support.subject??""),1)])])]),t("div",A,[t("ul",L,[(d(!0),n(_,null,w(o.support.conversations,e=>(d(),n("li",{class:y(["group mt-5",e.is_admin!=0?"pr":""]),key:e.id},[t("div",P,[t("div",q,[i(t("img",G,null,512),[[c,e.user.avatar?e.user.avatar:`https://ui-avatars.com/api/?name=${e.user.name}`]])]),t("div",H,[t("p",I,a(e.comment),1),t("span",J,a(k(B)(e.created_at).format("D MMM, YYYY")),1)])])],2))),128))]),s[3]||(s[3]=t("div",{id:"chat-scroll-view"},null,-1))]),t("div",K,[t("form",{onSubmit:S(x,["prevent"]),class:"mx-4 flex h-[4.5rem] items-center rounded-primary border border-slate-200 shadow dark:border-slate-600"},[i(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>r.value.message=e),class:"h-full w-full border-transparent bg-transparent px-4 text-sm text-slate-700 placeholder:text-slate-500 focus:border-transparent focus:ring-0 dark:text-slate-300 dark:placeholder:text-slate-400",type:"text",placeholder:"Type your message here"},null,512),[[j,r.value.message]]),t("div",Q,[i(t("select",{class:"select w-[120px]",name:"status","onUpdate:modelValue":s[1]||(s[1]=e=>r.value.status=e)},[t("option",R,a(l.trans("Open")),1),t("option",W,a(l.trans("Pending")),1),t("option",X,a(l.trans("Closed")),1)],512),[[M,r.value.status]]),t("button",{type:"submit",disabled:r.value.processing,class:"btn btn-sm btn-primary"},[s[4]||(s[4]=t("i",{width:"18",height:"18","data-feather":"send"},null,-1)),t("span",tt,a(l.trans("Send")),1)],8,Z)])],32)])]),s[5]||(s[5]=t("div",{id:"chat-overlay",class:"absolute inset-0 z-10 hidden h-full w-full bg-black bg-opacity-0 transition-colors duration-300 ease-in-out xl:hidden"},null,-1))])])}}});export{dt as default};
