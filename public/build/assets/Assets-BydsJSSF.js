import{_ as b}from"./FilterDropdown-BWymQW5G.js";import{_ as y}from"./NoDataFound-KY-LTui4.js";import{s as g,r as f,y as w,c as i,o as a,g as k,a as s,l as x,b as o,w as $,t as u,u as z,F as v,d as C,k as h,e as j,i as D,N as V}from"./app-CHoD4jNo.js";import{_ as F}from"./UserLayout-T1Rud9jK.js";import{D as A}from"./AssetModal-Dh3z8yqV.js";import{_ as N}from"./Paginate-BtBw_72H.js";import"./SpinnerBtn-DagqeiVX.js";import"./ToastrContainer-DreH4TsU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";const B={class:"dropdown absolute right-2 top-2 z-10","data-placement":"bottom-end"},I={class:"dropdown-toggle p-1"},S={type:"button",class:"flex h-8 w-8 items-center justify-center rounded-full bg-white font-medium shadow-md dark:bg-slate-800"},L={class:"dropdown-content w-32 !overflow-visible p-1"},O={class:"text-sm"},T={key:0,class:"h-52 w-full object-cover",alt:"image"},W={key:1,controls:"",class:"h-52 w-full"},P=["src"],U={key:2,controls:"",class:"h-52 w-full"},E=["src"],M=["src"],R={key:3,class:"flex h-full flex-col items-center justify-center"},q={class:"text-sm font-semibold capitalize"},G={class:"ml-auto mt-1 flex max-w-max items-center rounded-md px-1"},H={class:"text-xs font-semibold capitalize"},J={__name:"AssetCard",props:{assets:[Object,Array]},setup(r){const{deleteRow:c}=g();return(l,_)=>{const n=f("Icon"),m=f("Link"),t=w("lazy");return a(!0),i(v,null,k(r.assets,(e,d)=>(a(),i("div",{key:d,class:"relative h-60 overflow-hidden rounded-lg border border-gray-200 dark:border-gray-800"},[s("div",B,[s("div",I,[s("button",S,[o(n,{icon:"bx:dots-vertical-rounded"})])]),s("div",L,[o(m,{as:"button",class:"dropdown-link",onClick:p=>z(c)(l.route("user.assets.destroy",e.id))},{default:$(()=>[o(n,{icon:"bx:trash"}),s("span",O,u(l.trans("Delete")),1)]),_:2},1032,["onClick"])])]),e.mime_type.includes("image")?x((a(),i("img",T,null,512)),[[t,e.path]]):e.mime_type.includes("video")?(a(),i("video",W,[s("source",{src:e.path,type:"video/mp4"},null,8,P)])):e.mime_type.includes("audio")?(a(),i("audio",U,[s("source",{src:e.path,type:"audio/wav"},null,8,E),s("source",{src:e.path,type:"audio/mp3"},null,8,M)])):(a(),i("div",R,[o(n,{icon:"bx:file-blank",class:"h-6 w-6"}),s("p",q,u(e.original_name),1)])),s("div",G,[o(n,{icon:"bx:file-blank",class:"mr-1 h-4 w-4"}),s("span",H,u(e.dynamic_file_size),1)])]))),128)}}},K={class:"flex items-center justify-between"},Q={class:"text-2xl font-semibold"},X={class:"mt-8"},Y={class:"grid w-full grid-cols-1 gap-6 pb-8 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"},Z={class:"card flex items-center justify-center p-3"},ee=C({layout:F}),ue=Object.assign(ee,{__name:"Assets",props:["assets"],setup(r){const c=h(0),l=h([]),_=t=>t.type.startsWith("image/")?"image":t.type.startsWith("audio/")?"audio":t.type.startsWith("video/")?"video":"document",n=()=>{const t=l.value.map(e=>({file:e,type:_(e)}));V.post(route("user.assets.store"),{files:t},{onProgress:e=>{c.value=e.percentage},onFinish:()=>{setTimeout(()=>c.value=0,1e3)},onSuccess:()=>{l.value=[]}})},m=[{label:"File Size",value:"file_size"},{label:"Media Type",value:"file_type",options:[{label:"Image",value:"image"},{label:"Video",value:"video"},{label:"Audio",value:"audio"},{label:"Document",value:"document"}]}];return(t,e)=>{var d;return a(),i(v,null,[s("div",K,[s("h1",Q,u(t.trans("Assets")),1),o(b,{options:m,appends:{active_tab:"card"}})]),s("div",X,[s("div",Y,[s("div",Z,[o(A,{classes:"h-48",percentage:c.value,modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=p=>l.value=p),instantSubmit:n,multiple:""},null,8,["percentage","modelValue"])]),o(J,{assets:r.assets.data},null,8,["assets"]),o(N,{class:"col-span-full",links:r.assets.links},null,8,["links"])])]),((d=r.assets.data)==null?void 0:d.length)<1?(a(),j(y,{key:0})):D("",!0)],64)}}});export{ue as default};
