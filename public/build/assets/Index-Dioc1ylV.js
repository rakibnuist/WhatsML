import{d as L,s as N,k as P,j as O,T as j,r as V,c as i,o as a,a as e,e as R,i as y,b as u,F as f,g as b,t as s,w as C,u as l,h as w,l as h,A as k,v as M,_ as U,x as E}from"./app-CHoD4jNo.js";import{_ as q}from"./AssetModal-Dh3z8yqV.js";import{_ as G}from"./NoDataFound-KY-LTui4.js";import{_ as H}from"./UserLayout-T1Rud9jK.js";import{_ as $}from"./SpinnerBtn-DagqeiVX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const J={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4"},K={class:"flex items-center justify-between"},Q={class:"text-lg capitalize"},W={class:"dropdown-list"},X={class:"dropdown-list-item"},Y=["onClick"],Z={class:"dropdown-list-item"},ee=["href"],te={class:"flex h-32 items-center justify-center pb-5"},se={class:"styled-scrollbar max-h-[calc(100vh-120px)] overflow-y-auto pb-10"},le={class:"label mb-1 mt-4 text-lg font-bold capitalize"},oe=["for"],ae=["onUpdate:modelValue"],ne={value:"null",selected:""},ie=["value"],re=["id","onUpdate:modelValue","disabled"],de={class:"block"},ce={class:"flex justify-end gap-3"},ue={class:"label mb-1"},me={class:"grid grid-cols-2 gap-2"},pe={class:"label mb-1"},fe={value:""},ve=["value"],_e={class:"label mb-1"},be=["value"],ge={class:"label mb-1"},he={class:"mt-2 flex items-center justify-between"},Ce=["href"],we=L({layout:H}),Ue=Object.assign(we,{__name:"Index",props:["providerConfigSchema","providerConfig","aiTrainingCredentials","aiModules","demoDatasets"],setup(m){const{trim:z,deleteRow:F}=N(),I=m,r=P(null),x=O(),p=j({...I.providerConfigSchema}),c=j({provider:"",dataset:"",title:"",file_type:"json"}),T=()=>{p.post(route("user.ai-training-credential.store"))},A=()=>{c.post(route("user.ai-training.import-dataset"),{onSuccess:()=>{c.reset(),x.close("importDataset")}})};return(o,d)=>{var S;const g=V("Icon"),B=V("Link");return a(),i(f,null,[e("div",J,[(a(!0),i(f,null,b(m.providerConfig,(t,n)=>(a(),i("div",{key:n,class:"card card-body relative"},[e("div",K,[e("p",Q,s(t==null?void 0:t.info.name),1),u(q,{"btn-type":"icon","icon-name":"bx:dots-vertical-rounded","btn-class":"p-0",position:"left"},{default:C(()=>[e("ul",W,[e("li",X,[e("button",{onClick:()=>{r.value=n,l(x).open("aiCredentials")},class:"dropdown-link gap-4"},[u(g,{icon:"bx:key"}),w(" "+s(o.trans("Ai Credentials")),1)],8,Y)]),e("li",Z,[u(B,{href:o.route("user.ai-training.show",n),class:"dropdown-link gap-4"},{default:C(()=>[u(g,{icon:"bx:align-left"}),w(" "+s(o.trans("Logs")),1)]),_:2},1032,["href"])]),(a(!0),i(f,null,b(m.aiModules[n].dropdown_items,v=>(a(),i("li",{key:v,class:"dropdown-list-item"},[e("a",{class:"dropdown-link gap-4",href:v.url},[u(g,{icon:v.icon},null,8,["icon"]),w(" "+s(v.text),1)],8,ee)]))),128))])]),_:2},1024)]),e("div",te,[u(g,{icon:t==null?void 0:t.info.icon,class:"text-6xl"},null,8,["icon"])])]))),128))]),((S=Object.keys(m.providerConfig))==null?void 0:S.length)<1?(a(),R(G,{key:0})):y("",!0),u(U,{onClose:d[1]||(d[1]=t=>r.value=null),state:"aiCredentials","modal-type":"sidebar","header-state":!0,"header-title":o.trans("AI Credentials Configuration"),"modal-size":"w-3/12"},{default:C(()=>[e("div",se,[r.value?(a(),i(f,{key:0},[e("label",le,s(r.value),1),l(p)[r.value]?(a(!0),i(f,{key:0},b(l(p)[r.value],(t,n)=>{var v,D;return a(),i("div",{key:n},[e("label",{class:"label mb-1 capitalize",for:n},s(l(z)(n)),9,oe),n==="model"&&((D=(v=m.providerConfig[r.value])==null?void 0:v.info)!=null&&D.supported_models)?h((a(),i("select",{key:0,class:"select","onUpdate:modelValue":_=>l(p)[r.value][n]=_},[e("option",ne,s(o.trans("Select Model")),1),(a(!0),i(f,null,b(m.providerConfig[r.value].info.supported_models,_=>(a(),i("option",{key:_,value:_},s(_),9,ie))),128))],8,ae)),[[k,l(p)[r.value][n]]]):h((a(),i("input",{key:1,class:"input",id:n,"onUpdate:modelValue":_=>l(p)[r.value][n]=_,disabled:["redirect","base_url","refresh_token"].includes(n)},null,8,re)),[[M,l(p)[r.value][n]]])])}),128)):y("",!0),e("small",de,"* "+s(o.trans("Please! provide correct credentials.")),1),e("small",null,"* "+s(o.trans("Check your credentials before submit.")),1)],64)):y("",!0)]),e("div",ce,[e("button",{class:"btn btn-danger max-w-max",onClick:d[0]||(d[0]=t=>l(F)(o.route("user.ai-training-credential.destroy",r.value)))},[u(g,{icon:"bx:trash"}),w(" "+s(o.trans("Remove")),1)]),u($,{processing:l(p).processing,onClick:T,"btn-text":o.trans("Save"),icon:"bx:save",class:"w-full"},null,8,["processing","btn-text"])])]),_:1},8,["header-title"]),u(U,{state:"importDatasetModal","header-state":!0,"header-title":o.trans("Import Dataset")},{default:C(()=>[e("form",{onSubmit:E(A,["prevent"]),class:"space-y-2"},[e("div",null,[e("label",ue,s(o.trans("Title")),1),h(e("input",{type:"text","onUpdate:modelValue":d[2]||(d[2]=t=>l(c).title=t),class:"input"},null,512),[[M,l(c).title]])]),e("div",me,[e("div",null,[e("label",pe,s(o.trans("Select Provider")),1),h(e("select",{class:"select capitalize","onUpdate:modelValue":d[3]||(d[3]=t=>l(c).provider=t)},[e("option",fe,s(o.trans("Select Provider")),1),(a(!0),i(f,null,b(Object.keys(m.providerConfig),t=>(a(),i("option",{key:t,value:t},s(t),9,ve))),128))],512),[[k,l(c).provider]])]),e("div",null,[e("label",_e,s(o.trans("Select File Format")),1),h(e("select",{class:"select uppercase","onUpdate:modelValue":d[4]||(d[4]=t=>l(c).file_type=t)},[(a(),i(f,null,b(["csv","json"],t=>e("option",{key:t,value:t},s(t),9,be)),64))],512),[[k,l(c).file_type]])])]),e("div",null,[e("label",ge,s(o.trans("Select Dataset")),1),e("input",{type:"file",accept:".json,.csv,.xlsx",onChange:d[5]||(d[5]=t=>l(c).dataset=t.target.files[0]),class:"input"},null,32)]),e("div",he,[e("a",{href:m.demoDatasets[l(c).file_type],class:"text-sm text-primary-500 underline",download:"",target:"_blank"},s(o.trans("Download Demo Dataset")),9,Ce),u($,{processing:l(c).processing},null,8,["processing"])])],32)]),_:1},8,["header-title"])],64)}}});export{Ue as default};
