import{d as f,s as g,k as _,r as k,c as l,o as n,a as t,b,u as d,t as a,F as y,g as w,n as S,x as j,l as M,v as Y,N as C,E as N}from"./app-CHoD4jNo.js";import{_ as z}from"./UserLayout-T1Rud9jK.js";import{h as B}from"./moment-BAtM24Ew.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const D={class:"h-fit space-y-6"},V={class:"h-full"},E={class:"relative mx-auto rounded-primary bg-white shadow dark:bg-slate-800 2xl:w-8/12"},F={class:"flex items-center justify-between rounded-t-primary border-b border-b-slate-200 p-4 dark:border-b-slate-600"},I={class:"flex items-center justify-start gap-x-3"},T={id:"chat-btn-show-sidebar",class:"text-slate-500 hover:text-slate-700 focus:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300 dark:focus:text-slate-300 xl:hidden"},A={class:"avatar avatar-circle avatar-indicator avatar-indicator-online"},L=["src"],O={class:"whitespace-nowrap text-sm font-medium text-slate-700 dark:text-slate-100"},U={class:"whitespace-normal text-sm font-normal text-slate-500 dark:text-slate-400"},$={class:"relative max-h-[calc(100vh-18rem)] overflow-auto px-4 pb-28 md:max-h-[calc(100vh-17rem)]","data-simplebar":""},q={class:"space-y-3"},G={class:"flex gap-x-3 group-[.pr]:flex-row-reverse"},H={class:"avatar avatar-circle avatar-sm shrink-0"},J=["src"],K={class:"flex max-w-sm flex-col items-start gap-y-2 group-[.pr]:items-end"},P={class:"rounded-primary rounded-tl-none bg-slate-100 p-2 text-sm text-slate-600 group-[.pr]:rounded-tl-primary group-[.pr]:rounded-tr-none group-[.pr]:bg-primary-500 group-[.pr]:text-slate-100 dark:bg-slate-700 dark:text-slate-300"},Q={class:"text-xs font-normal text-slate-400"},R={class:"absolute bottom-[-0.5px] left-0 right-0 z-10 rounded-b-primary bg-white py-4 dark:bg-slate-800"},W={class:"flex items-center justify-end gap-x-4 px-4"},X=["disabled"],Z={class:"hidden md:inline-block"},tt={key:1,class:"text-center font-bold text-red-500"},st=f({layout:z}),dt=Object.assign(st,{__name:"Show",props:["buttons","support"],setup(e){const c=e,{uiAvatar:u}=g(),o=_({message:"",status:c.support.status}),v=()=>{C.patch(route("user.supports.update",c.support.id),{message:o.value.message},{onSuccess:()=>{o.value.message="",N.success("Submitted successfully")}})};return(i,r)=>{var p,h,x;const m=k("Icon");return n(),l("div",D,[t("div",V,[t("div",E,[t("div",F,[t("div",I,[t("button",T,[b(m,{icon:"fe:menu",height:"1.5rem",width:"1.5rem"})]),t("div",A,[t("img",{class:"avatar-img",src:d(u)((p=e.support.user)==null?void 0:p.name,(h=e.support.user)==null?void 0:h.avatar),alt:"profile-img"},null,8,L)]),t("div",null,[t("h6",O,a((x=e.support.user)==null?void 0:x.name),1),t("p",U,a(i.trans("Subject :"))+" "+a(e.support.subject??""),1)])])]),t("div",$,[t("ul",q,[(n(!0),l(y,null,w(e.support.conversations,s=>(n(),l("li",{class:S(["group mt-5",s.is_admin===0?"pr":""]),key:s.id},[t("div",G,[t("div",H,[t("img",{class:"avatar-img",src:d(u)(s.user.name,s.user.avatar),alt:"profile-img"},null,8,J)]),t("div",K,[t("p",P,a(s.comment),1),t("span",Q,a(d(B)(s.created_at).format("D MMM, YYYY")),1)])])],2))),128))]),r[1]||(r[1]=t("div",{id:"chat-scroll-view"},null,-1))]),t("div",R,[e.support.status===1?(n(),l("form",{key:0,onSubmit:j(v,["prevent"]),class:"mx-4 flex h-[4.5rem] items-center rounded-primary border border-slate-200 shadow dark:border-slate-600"},[M(t("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>o.value.message=s),class:"h-full w-full border-transparent bg-transparent px-4 text-sm text-slate-700 placeholder:text-slate-500 focus:border-transparent focus:ring-0 dark:text-slate-300 dark:placeholder:text-slate-400",type:"text",placeholder:"Type your message here"},null,512),[[Y,o.value.message]]),t("div",W,[t("button",{type:"submit",disabled:o.value.processing,class:"btn btn-sm btn-primary"},[b(m,{icon:"fe:send",height:"1.5rem",width:"1.5rem"}),t("span",Z,a(i.trans("Send")),1)],8,X)])],32)):(n(),l("div",tt,a(i.trans("You can't not send reply")),1))])]),r[2]||(r[2]=t("div",{id:"chat-overlay",class:"absolute inset-0 z-10 hidden h-full w-full bg-black bg-opacity-0 transition-colors duration-300 ease-in-out xl:hidden"},null,-1))])])}}});export{dt as default};
