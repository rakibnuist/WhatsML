import{d as x,m as n,T as h,c as w,o as i,a as r,x as B,e as N,i as f,b as d,t as V,u as o}from"./app-CHoD4jNo.js";import{_ as U}from"./SpinnerBtn-DagqeiVX.js";import{_ as E}from"./AdminLayout-Ddg1XhLg.js";import{s as k}from"./multiselect-B4Pr08td.js";import{_ as p}from"./InputField-B9CnVxof.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const C={class:"card mx-auto max-w-3xl"},M={class:"card-body"},O={class:"flex flex-col gap-3"},P={key:1},S={class:"label mb-1"},W={class:"flex justify-end"},$=x({layout:E}),I=Object.assign($,{__name:"Create",props:["owners","member"],setup(u){var c,b,_;const t=u,m=n(()=>{var a;return!!((a=t.member)!=null&&a.id)}),e=h({owner_id:"",workspace_ids:[],name:((c=t.member)==null?void 0:c.name)??"",email:((b=t.member)==null?void 0:b.email)??"",password:"",_method:(_=t.member)!=null&&_.id?"put":"post"}),v=n(()=>{var a;return(a=t.owners)==null?void 0:a.find(s=>s.id==e.owner_id)}),y=n(()=>{var a;return(a=v.value)==null?void 0:a.my_workspaces}),g=()=>{m.value?e.put(route("admin.logs.members.update",t.member.id)):e.post(route("admin.logs.members.store"))};return(a,s)=>(i(),w("div",C,[r("div",M,[r("form",{onSubmit:B(g,["prevent"])},[r("div",O,[r("h5",null,V(m.value?"Edit Member":"Add New Member"),1),m.value?f("",!0):(i(),N(o(k),{key:0,modelValue:o(e).owner_id,"onUpdate:modelValue":s[0]||(s[0]=l=>o(e).owner_id=l),searchable:!0,valueProp:"id",trackBy:"id",label:"name",options:u.owners,placeholder:"Select Owner",class:"multiselect-dark"},null,8,["modelValue","options"])),m.value?f("",!0):(i(),w("div",P,[r("label",S,V(a.trans("Workspaces")),1),d(o(k),{modelValue:o(e).workspace_ids,"onUpdate:modelValue":s[1]||(s[1]=l=>o(e).workspace_ids=l),searchable:!0,mode:"tags",valueProp:"id",trackBy:"id",label:"name",options:y.value,placeholder:"Select Workspaces",class:"multiselect-dark"},null,8,["modelValue","options"])])),d(p,{label:"Full Name",type:"text",modelValue:o(e).name,"onUpdate:modelValue":s[2]||(s[2]=l=>o(e).name=l),placeholder:"Full Name"},null,8,["modelValue"]),d(p,{label:"Email",type:"email",modelValue:o(e).email,"onUpdate:modelValue":s[3]||(s[3]=l=>o(e).email=l),placeholder:"Email"},null,8,["modelValue"]),d(p,{label:"Password",type:"password",modelValue:o(e).password,"onUpdate:modelValue":s[4]||(s[4]=l=>o(e).password=l),placeholder:"Password"},null,8,["modelValue"]),r("div",W,[d(U,{processing:o(e).processing,"btn-text":m.value?a.trans("Update"):a.trans("Create Member")},null,8,["processing","btn-text"])])])],32)])]))}});export{I as default};
