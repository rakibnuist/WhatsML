import{_ as k}from"./AdminLayout-Ddg1XhLg.js";import{_ as w}from"./NoDataFound-KY-LTui4.js";import{d as C,s as j,T as z,r as p,c as i,o as r,e as m,F as h,g as y,a as e,t as o,n as l,b as u,w as $,u as c,E as v}from"./app-CHoD4jNo.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const B={class:"space-y-6"},L={key:0,class:"grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-3"},U={class:"card-header border-b p-4 text-center"},A={class:"mb-1 text-xl font-semibold"},E={class:"price-container mb-2"},I={class:"text-2xl font-bold text-primary-500"},N={class:"text-sm"},P={class:"inline-block rounded-full px-3 py-1 text-sm"},S={class:"card-body space-y-3 p-4"},F={class:"flex items-center gap-2"},V={class:"capitalize text-slate-600 dark:text-slate-300"},O={class:"max-w-xs text-end text-sm font-medium text-slate-600 dark:text-slate-400"},R={class:"border-t p-4 dark:border-gray-700"},T={class:"mb-3 flex gap-2"},Y=["onClick","disabled"],q=["onClick","disabled"],G=C({layout:k}),D=Object.assign(G,{__name:"Index",props:["plans","planSetting"],setup(_){const{deleteRow:b}=j(),d=z({}),g=t=>{if(t.activeuser_count<1){v.danger("No active user found in this plan");return}d.patch(route("admin.plan.sync",t.id))};return(t,H)=>{const a=p("Icon"),x=p("Link");return r(),i("div",B,[_.plans.length!=0?(r(),i("div",L,[(r(!0),i(h,null,y(_.plans,s=>(r(),i("div",{key:s.id,class:"card overflow-hidden rounded-lg shadow-md hover:shadow-lg"},[e("div",U,[e("h4",A,o(s.title),1),e("div",E,[e("h3",I,o(s.price_format),1),e("span",N,o(s.days===30?t.trans("Per month"):s.days===365?t.trans("Per year"):t.trans("Lifetime")),1)]),e("div",P,o(t.trans("Active Users"))+": "+o(s.activeuser_count),1)]),e("div",S,[(r(!0),i(h,null,y(s.data,(n,f)=>(r(),i("div",{key:f,class:"flex items-center justify-between gap-x-7"},[e("div",F,[e("span",{class:l(["flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full",n.value?"bg-green-100":"bg-red-100"])},[n.value?(r(),m(a,{key:0,icon:"fa:check-circle",class:"text-green-600"})):(r(),m(a,{key:1,icon:"fa:times-circle",class:"text-red-600"}))],2),e("span",V,o(f.replace(/_/g," ")),1)]),e("span",O,o(n.value=="-1"?"Unlimited":n.value===!0||n.value===!1?"":Array.isArray(n.value)?n.value.join(", "):`${n.value}`),1)]))),128))]),e("div",R,[e("div",T,[u(x,{href:t.route("admin.plan.edit",s.id),class:"btn btn-primary flex flex-1 items-center justify-center gap-1 rounded-md py-2"},{default:$(()=>[u(a,{icon:"fe:pencil",size:"16"}),e("span",null,o(t.trans("Edit")),1)]),_:2},1032,["href"]),e("button",{onClick:n=>s.activeuser_count==0?c(b)(t.route("admin.plan.destroy",s.id)):c(v).danger("You cant delete this plan, this plan has active users"),type:"button",disabled:s.activeuser_count>0,class:l(["btn btn-danger flex flex-1 items-center justify-center gap-1 rounded-md py-2",{"cursor-not-allowed opacity-50":s.activeuser_count>0}])},[u(a,{icon:"fe:trash",size:"16"}),e("span",null,o(t.trans("Delete")),1)],10,Y)]),e("button",{type:"button",onClick:n=>g(s),class:l(["btn btn-success flex w-full items-center justify-center gap-1 rounded-md py-2",{"cursor-not-allowed opacity-50":c(d).processing||s.activeuser_count==0}]),disabled:c(d).processing||s.activeuser_count==0},[u(a,{icon:"fe:sync",class:l({"animate-spin":c(d).processing}),size:"16"},null,8,["class"]),e("span",null,o(t.trans("Sync Users")),1)],10,q)])]))),128))])):(r(),m(w,{key:1}))])}}});export{D as default};
