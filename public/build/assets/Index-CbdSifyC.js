import{d as V,j as D,s as U,T as N,k as j,r as C,c,o as d,a as t,b as r,e as q,t as a,u as e,f as o,F as m,g as b,n as B,w as f,z as E,l as _,v as w,A as g,N as F}from"./app-CHoD4jNo.js";import{_ as L}from"./AdminLayout-Ddg1XhLg.js";import{h as T}from"./moment-BAtM24Ew.js";import{_ as $}from"./NoDataFound-KY-LTui4.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const I={class:"space-y-6"},z={class:"table-responsive whitespace-nowrap rounded-primary"},O={class:"table"},R={class:"text-center"},Y={class:"flex justify-end"},G={key:0},H={class:"text-left"},J={class:"text-left"},K={class:"text-center"},P={class:"text-left"},Q={class:"flex justify-end"},W={class:"dropdown","data-placement":"bottom-start"},X={class:"dropdown-toggle"},Z={class:"dropdown-content w-40"},tt={class:"dropdown-list"},et={class:"dropdown-list-item"},st=["onClick"],at={class:"dropdown-list-item"},ot={class:"mb-2"},lt={class:"mb-2"},nt={value:"1"},it={value:"0"},dt={class:"mb-2"},ct=["value"],ut={class:"mb-2"},rt={class:"mb-2"},_t={value:"1"},pt={value:"0"},mt={class:"mb-2"},gt=["value"],vt=V({layout:L}),Mt=Object.assign(vt,{__name:"Index",props:["categories","languages"],setup(p){const v=D(),{deleteRow:k}=U(),i=N({title:"",status:1,language:"en",type:"blog_category"}),n=j({}),M=()=>{i.post(route("admin.category.store"),{onSuccess:()=>{i.reset(),v.close("createModal")}})},S=x=>{n.value={...x},v.open("editModal")},A=()=>{F.patch(route("admin.category.update",n.value.id),n.value,{onSuccess:()=>{n.value={},v.close("editModal")}})};return(x,l)=>{const h=C("Icon"),y=C("Modal");return d(),c(m,null,[t("div",I,[t("div",z,[t("table",O,[t("thead",null,[t("tr",null,[t("th",null,a(e(o)("Name")),1),t("th",null,a(e(o)("Slug")),1),t("th",R,a(e(o)("Language")),1),t("th",null,a(e(o)("Status")),1),t("th",null,a(e(o)("Created At")),1),t("th",Y,a(e(o)("Action")),1)])]),p.categories.total?(d(),c("tbody",G,[(d(!0),c(m,null,b(p.categories.data,s=>(d(),c("tr",{key:s.id},[t("td",H,a(s.title),1),t("td",J,a(s.slug),1),t("td",K,a(s.lang),1),t("td",P,[t("span",{class:B(["badge",s.status==1?"badge-success":"badge-danger"])},a(s.status==1?e(o)("Active"):e(o)("Draft")),3)]),t("td",null,a(e(T)(s.created_at).format("D-MMM-Y")),1),t("td",null,[t("div",Q,[t("div",W,[t("div",X,[r(h,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",Z,[t("ul",tt,[t("li",et,[t("button",{onClick:u=>S(s),class:"dropdown-link"},[r(h,{class:"h-6 text-slate-400",icon:"material-symbols:edit-outline"}),t("span",null,a(e(o)("Edit")),1)],8,st)]),t("li",at,[r(e(E),{as:"button",class:"dropdown-link",onClick:u=>e(k)("/admin/category/"+s.id)},{default:f(()=>[r(h,{class:"h-6",icon:"material-symbols:delete-outline"}),t("span",null,a(e(o)("Delete")),1)]),_:2},1032,["onClick"])])])])])])])]))),128))])):(d(),q($,{key:1,"for-table":"true"}))])])]),r(y,{state:"createModal","header-state":!0,"header-title":e(o)("Create Category"),"action-btn-text":e(o)("Create"),"action-btn-state":!0,"action-processing":e(i).processing,onAction:M},{default:f(()=>[t("div",ot,[t("label",null,a(e(o)("Title")),1),_(t("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>e(i).title=s),type:"text",name:"title",class:"input",required:""},null,512),[[w,e(i).title]])]),t("div",lt,[t("label",null,a(e(o)("Status")),1),_(t("select",{required:"","onUpdate:modelValue":l[1]||(l[1]=s=>e(i).status=s),class:"select",name:"status"},[t("option",nt,a(e(o)("Active")),1),t("option",it,a(e(o)("Deactivate")),1)],512),[[g,e(i).status]])]),t("div",dt,[t("label",null,a(e(o)("Language")),1),_(t("select",{required:"","onUpdate:modelValue":l[2]||(l[2]=s=>e(i).language=s),class:"select",name:"language"},[(d(!0),c(m,null,b(p.languages,(s,u)=>(d(),c("option",{key:u,value:u},a(s),9,ct))),128))],512),[[g,e(i).language]])])]),_:1},8,["header-title","action-btn-text","action-processing"]),r(y,{state:"editModal","header-state":!0,"header-title":e(o)("Edit Category"),"action-btn-text":e(o)("Update"),"action-btn-state":!0,"action-processing":n.value.processing,onAction:A},{default:f(()=>[t("div",ut,[t("label",null,a(e(o)("Title")),1),_(t("input",{"onUpdate:modelValue":l[3]||(l[3]=s=>n.value.title=s),type:"text",name:"title",class:"input",required:""},null,512),[[w,n.value.title]])]),t("div",rt,[t("label",null,a(e(o)("Status")),1),_(t("select",{"onUpdate:modelValue":l[4]||(l[4]=s=>n.value.status=s),class:"select",name:"status"},[t("option",_t,a(e(o)("Active")),1),t("option",pt,a(e(o)("Draft")),1)],512),[[g,n.value.status]])]),t("div",mt,[t("label",null,a(e(o)("Language")),1),_(t("select",{"onUpdate:modelValue":l[5]||(l[5]=s=>n.value.lang=s),class:"select",name:"language"},[(d(!0),c(m,null,b(p.languages,(s,u)=>(d(),c("option",{key:u,value:u},a(s),9,gt))),128))],512),[[g,n.value.lang]])])]),_:1},8,["header-title","action-btn-text","action-processing"])],64)}}});export{Mt as default};
