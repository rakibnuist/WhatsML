import{d as S,T as D,s as A,r as P,c as u,o as p,a as e,t as o,i as v,l as d,v as i,u as s,A as W,B as m,b as _,F as T,g as E,x as I,E as N}from"./app-CHoD4jNo.js";import{_ as B}from"./AdminLayout-Ddg1XhLg.js";import{_ as F}from"./SpinnerBtn-DagqeiVX.js";import{s as $}from"./multiselect-B4Pr08td.js";import"./AssetModal-Dh3z8yqV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";const L={class:"space-y-6"},Q={class:"card card-body flex-1"},R={class:"my-2"},j={class:"my-2"},x={class:"my-2"},K={class:"my-2"},z={value:"30"},G={value:"365"},H={value:"999999"},J={class:"my-2"},X={class:"mb-2"},Y={for:"toggle-featured",class:"toggle toggle-sm"},Z={class:"label label-md"},ee={class:"mb-2"},le={for:"toggle-is_recommended",class:"toggle toggle-sm"},ae={class:"label label-md"},se={class:"mb-2"},te={for:"toggle-is_trial",class:"toggle toggle-sm"},ne={class:"label label-md"},oe={key:0,class:"from-group trial-days mb-2 mt-2"},de={class:"col-lg-12"},ie={class:"col-lg-12"},re={class:"mb-2"},ue={for:"toggle-status",class:"toggle toggle-sm"},pe={class:"label label-md"},me={class:"mt-6"},be={class:"card card-body flex-1 space-y-2"},ve={class:"my-2"},_e={class:"label mb-1"},ce={class:"label mb-1"},ge={key:0,class:"my-2"},ye={class:"label mb-1"},we={class:"label mb-1"},Ve={key:1,class:"my-2"},fe={class:"label mb-1"},Ue={class:"label mb-1"},ke={class:"my-2"},qe={class:"label mb-1"},Oe={class:"label mb-1"},Ce={key:2,class:"my-2"},he={class:"label mb-1"},Me={class:"label mb-1"},Se={class:"my-2"},De={class:"label mb-1"},Ae={class:"label mb-1"},Pe={class:"my-2"},We={class:"label mb-1"},Te={class:"label mb-1"},Ee={class:"my-2"},Ie={class:"label mb-1"},Ne={class:"label mb-1"},Be={class:"my-2"},Fe={class:"label mb-1"},$e={class:"label mb-1"},Le={class:"my-2"},Qe={class:"label mb-1"},Re={class:"label mb-1"},je={class:"my-2"},xe={class:"label mb-1"},Ke={class:"label mb-1 block"},ze={class:"my-2"},Ge={class:"label mb-1"},He={class:"label mb-1 block"},Je={class:"my-2"},Xe={class:"label mb-1"},Ye={class:"label mb-1 block"},Ze={class:"my-2"},el={class:"label mb-1"},ll={class:"label mb-1 block"},al={class:"my-2"},sl={class:"label mb-1"},tl={class:"label mb-1 block"},nl={class:"my-2"},ol={for:"toggle-campaign",class:"toggle toggle-sm"},dl={class:"label label-md"},il={class:"label mb-1 block"},rl={class:"my-2"},ul={for:"toggle-auto_reply",class:"toggle toggle-sm"},pl={class:"label label-md"},ml={class:"label mb-1 block"},bl={class:"my-2"},vl={for:"toggle-quick_reply",class:"toggle toggle-sm"},_l={class:"label label-md"},cl={class:"label mb-1 block"},gl={class:"mb-2"},yl={class:"label mb-2 block font-semibold"},wl=["onUpdate:modelValue"],Vl=["onUpdate:modelValue"],fl=["onClick"],Ul=S({layout:B}),Al=Object.assign(Ul,{__name:"Edit",props:["segments","buttons","plan","modules"],setup(c){const r=c,a=D({...r.plan,plan_data:r.plan.data,is_featured:!!r.plan.is_featured,is_recommended:!!r.plan.is_recommended,is_trial:!!r.plan.is_trial,status:!!r.plan.status}),U={key:"",value:""},{moduleLabel:g}=A(),k=n=>{const l=g(n);l==="WaWeb"&&(a.plan_data={...a.plan_data,web_messages:{value:0,overview:""}}),l==="WaCloud"&&(a.plan_data={...a.plan_data,cloud_messages:{value:0,overview:""}})},q=n=>{const l=g(n);l==="WaWeb"&&delete a.plan_data.web_messages,l==="WaCloud"&&delete a.plan_data.cloud_messages},O=()=>{a.plan_data.web_messages&&delete a.plan_data.web_messages,a.plan_data.cloud_messages&&delete a.plan_data.cloud_messages},C=()=>{Array.isArray(a.extra_data)||(a.extra_data=[]),a.extra_data.push({...U})},h=n=>{a.extra_data.splice(n,1)};function M(){a.put(route("admin.plan.update",r.plan.id),{onSuccess:()=>{N.success("Plan updated successfully")}})}return(n,l)=>{var w,V;const y=P("Icon");return p(),u("div",L,[e("div",null,[e("strong",null,o(n.trans("Edit Plan")),1),e("p",null,o(n.trans("Edit subscription plan for charging from the customer")),1)]),e("form",{class:"flex flex-col-reverse items-start gap-8 lg:flex-row",onSubmit:l[46]||(l[46]=I(t=>M(),["prevent"]))},[e("div",Q,[e("strong",null,o(n.trans("Plan Details")),1),e("div",R,[e("label",null,o(n.trans("Plan Name")),1),d(e("input",{type:"text",name:"title",required:"",class:"input","onUpdate:modelValue":l[0]||(l[0]=t=>s(a).title=t)},null,512),[[i,s(a).title]])]),e("div",j,[e("label",null,o(n.trans("Short Description (optional)")),1),d(e("input",{type:"text",class:"input","onUpdate:modelValue":l[1]||(l[1]=t=>s(a).short_description=t),placeholder:"Save ~20% when billed yearly"},null,512),[[i,s(a).short_description]])]),e("div",x,[e("label",null,o(n.trans("Plan Description")),1),d(e("textarea",{"onUpdate:modelValue":l[2]||(l[2]=t=>s(a).description=t),required:"",class:"textarea"},null,512),[[i,s(a).description]])]),e("div",K,[e("label",null,o(n.trans("Select Duration")),1),d(e("select",{class:"select",name:"days","onUpdate:modelValue":l[3]||(l[3]=t=>s(a).days=t)},[e("option",z,o(n.trans("Monthly")),1),e("option",G,o(n.trans("yearly")),1),e("option",H,o(n.trans("Lifetime")),1)],512),[[W,s(a).days]])]),e("div",J,[e("label",null,o(n.trans("Price")),1),d(e("input",{type:"number",name:"price","onUpdate:modelValue":l[4]||(l[4]=t=>s(a).price=t),step:"any",class:"input"},null,512),[[i,s(a).price]])]),e("div",X,[e("label",Y,[d(e("input",{"onUpdate:modelValue":l[5]||(l[5]=t=>s(a).is_featured=t),class:"toggle-input peer sr-only",id:"toggle-featured",type:"checkbox"},null,512),[[m,s(a).is_featured]]),l[47]||(l[47]=e("div",{class:"toggle-body"},null,-1)),e("span",Z,o(n.trans("Is Featured?")),1)])]),e("div",ee,[e("label",le,[d(e("input",{"onUpdate:modelValue":l[6]||(l[6]=t=>s(a).is_recommended=t),class:"toggle-input peer sr-only",id:"toggle-is_recommended",type:"checkbox"},null,512),[[m,s(a).is_recommended]]),l[48]||(l[48]=e("div",{class:"toggle-body"},null,-1)),e("span",ae,o(n.trans("Is recommended?")),1)])]),e("div",se,[e("label",te,[d(e("input",{"onUpdate:modelValue":l[7]||(l[7]=t=>s(a).is_trial=t),class:"toggle-input peer sr-only",id:"toggle-is_trial",type:"checkbox"},null,512),[[m,s(a).is_trial]]),l[49]||(l[49]=e("div",{class:"toggle-body"},null,-1)),e("span",ne,o(n.trans("Accept Trial?")),1)])]),s(a).is_trial?(p(),u("div",oe,[e("label",de,o(n.trans("Trial days")),1),e("div",ie,[d(e("input",{type:"number","onUpdate:modelValue":l[8]||(l[8]=t=>s(a).trial_days=t),name:"trial_days",class:"input",required:""},null,512),[[i,s(a).trial_days]])])])):v("",!0),e("div",re,[e("label",ue,[d(e("input",{"onUpdate:modelValue":l[9]||(l[9]=t=>s(a).status=t),class:"toggle-input peer sr-only",id:"toggle-status",type:"checkbox"},null,512),[[m,s(a).status]]),l[50]||(l[50]=e("div",{class:"toggle-body"},null,-1)),e("span",pe,o(n.trans("Activate This Plan?")),1)])]),e("div",me,[_(F,{classes:"btn btn-primary",processing:s(a).processing,"btn-text":"Update"},null,8,["processing"])])]),e("div",be,[e("strong",null,o(n.trans("Plan Perks")),1),e("div",ve,[e("label",_e,o(n.trans("Modules Access")),1),_(s($),{onSelect:k,onDeselect:q,onClear:O,class:"multiselect-dark",modelValue:s(a).plan_data.modules.value,"onUpdate:modelValue":l[10]||(l[10]=t=>s(a).plan_data.modules.value=t),mode:"tags",options:c.modules,placeholder:"Select modules access",required:""},null,8,["modelValue","options"]),e("label",ce,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[11]||(l[11]=t=>s(a).plan_data.devices.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.devices.overview]])]),s(a).plan_data.web_messages?(p(),u("div",ge,[e("label",ye,o(n.trans("Web Messages (per month)")),1),d(e("input",{type:"number","onUpdate:modelValue":l[12]||(l[12]=t=>s(a).plan_data.web_messages.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.web_messages.value]]),e("label",we,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[13]||(l[13]=t=>s(a).plan_data.web_messages.overview=t),class:"input"},null,512),[[i,s(a).plan_data.web_messages.overview]])])):v("",!0),(w=s(a).plan_data)!=null&&w.cloud_messages?(p(),u("div",Ve,[e("label",fe,o(n.trans("Cloud Messages (per month)")),1),d(e("input",{type:"number","onUpdate:modelValue":l[14]||(l[14]=t=>s(a).plan_data.cloud_messages.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.cloud_messages.value]]),e("label",Ue,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[15]||(l[15]=t=>s(a).plan_data.cloud_messages.overview=t),class:"input"},null,512),[[i,s(a).plan_data.cloud_messages.overview]])])):v("",!0),e("div",ke,[e("label",qe,o(n.trans("Devices")),1),d(e("input",{type:"number","onUpdate:modelValue":l[16]||(l[16]=t=>s(a).plan_data.devices.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.devices.value]]),e("label",Oe,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[17]||(l[17]=t=>s(a).plan_data.devices.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.devices.overview]])]),(V=s(a).plan_data)!=null&&V.chat_flow?(p(),u("div",Ce,[e("label",he,o(n.trans("Chat Flow")),1),d(e("input",{type:"number","onUpdate:modelValue":l[18]||(l[18]=t=>s(a).plan_data.chat_flow.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.chat_flow.value]]),e("label",Me,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[19]||(l[19]=t=>s(a).plan_data.chat_flow.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.chat_flow.overview]])])):v("",!0),e("div",Se,[e("label",De,o(n.trans("Custom Template")),1),d(e("input",{type:"number","onUpdate:modelValue":l[20]||(l[20]=t=>s(a).plan_data.custom_template.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.custom_template.value]]),e("label",Ae,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[21]||(l[21]=t=>s(a).plan_data.custom_template.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.custom_template.overview]])]),e("div",Pe,[e("label",We,o(n.trans("Credits")),1),d(e("input",{type:"number","onUpdate:modelValue":l[22]||(l[22]=t=>s(a).plan_data.credits.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.credits.value]]),e("label",Te,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[23]||(l[23]=t=>s(a).plan_data.credits.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.credits.overview]])]),e("div",Ee,[e("label",Ie,o(n.trans("Storage")),1),d(e("input",{type:"number","onUpdate:modelValue":l[24]||(l[24]=t=>s(a).plan_data.storage.value=t),step:"0.01",required:"",class:"input"},null,512),[[i,s(a).plan_data.storage.value]]),e("label",Ne,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[25]||(l[25]=t=>s(a).plan_data.storage.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.storage.overview]])]),e("div",Be,[e("label",Fe,o(n.trans("Workspaces")),1),d(e("input",{type:"number","onUpdate:modelValue":l[26]||(l[26]=t=>s(a).plan_data.workspaces.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.workspaces.value]]),e("label",$e,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[27]||(l[27]=t=>s(a).plan_data.workspaces.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.workspaces.overview]])]),e("div",Le,[e("label",Qe,o(n.trans("Team Members")),1),d(e("input",{type:"number","onUpdate:modelValue":l[28]||(l[28]=t=>s(a).plan_data.team_members.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.team_members.value]]),e("label",Re,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[29]||(l[29]=t=>s(a).plan_data.team_members.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.team_members.overview]])]),e("div",je,[e("label",xe,o(n.trans("AI Training Dataset")),1),d(e("input",{type:"number","onUpdate:modelValue":l[30]||(l[30]=t=>s(a).plan_data.ai_training.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.ai_training.value]]),e("label",Ke,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[31]||(l[31]=t=>s(a).plan_data.ai_training.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.ai_training.overview]])]),e("div",ze,[e("label",Ge,o(n.trans("Web Scraping Query")),1),d(e("input",{type:"number","onUpdate:modelValue":l[32]||(l[32]=t=>s(a).plan_data.web_scrape.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.web_scrape.value]]),e("label",He,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[33]||(l[33]=t=>s(a).plan_data.web_scrape.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.web_scrape.overview]])]),e("div",Je,[e("label",Xe,o(n.trans("My App api")),1),d(e("input",{type:"number","onUpdate:modelValue":l[34]||(l[34]=t=>s(a).plan_data.apps.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.apps.value]]),e("label",Ye,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[35]||(l[35]=t=>s(a).plan_data.apps.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.apps.overview]])]),e("div",Ze,[e("label",el,o(n.trans("Contacts")),1),d(e("input",{type:"number","onUpdate:modelValue":l[36]||(l[36]=t=>s(a).plan_data.contacts.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.contacts.value]]),e("label",ll,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[37]||(l[37]=t=>s(a).plan_data.contacts.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.contacts.overview]])]),e("div",al,[e("label",sl,o(n.trans("Number Scanning (per month)")),1),d(e("input",{type:"number","onUpdate:modelValue":l[38]||(l[38]=t=>s(a).plan_data.number_scanner.value=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.number_scanner.value]]),e("label",tl,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[39]||(l[39]=t=>s(a).plan_data.number_scanner.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.number_scanner.overview]])]),e("div",nl,[e("label",ol,[d(e("input",{"onUpdate:modelValue":l[40]||(l[40]=t=>s(a).plan_data.campaign.value=t),class:"toggle-input peer sr-only",id:"toggle-campaign",type:"checkbox"},null,512),[[m,s(a).plan_data.campaign.value]]),l[51]||(l[51]=e("div",{class:"toggle-body"},null,-1)),e("span",dl,o(n.trans("Campaign")),1)]),e("label",il,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[41]||(l[41]=t=>s(a).plan_data.campaign.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.campaign.overview]])]),e("div",rl,[e("label",ul,[d(e("input",{"onUpdate:modelValue":l[42]||(l[42]=t=>s(a).plan_data.auto_reply.value=t),class:"toggle-input peer sr-only",id:"toggle-auto_reply",type:"checkbox"},null,512),[[m,s(a).plan_data.auto_reply.value]]),l[52]||(l[52]=e("div",{class:"toggle-body"},null,-1)),e("span",pl,o(n.trans("Auto Reply")),1)]),e("label",ml,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[43]||(l[43]=t=>s(a).plan_data.auto_reply.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.auto_reply.overview]])]),e("div",bl,[e("label",vl,[d(e("input",{"onUpdate:modelValue":l[44]||(l[44]=t=>s(a).plan_data.quick_reply.value=t),class:"toggle-input peer sr-only",id:"toggle-quick_reply",type:"checkbox"},null,512),[[m,s(a).plan_data.quick_reply.value]]),l[53]||(l[53]=e("div",{class:"toggle-body"},null,-1)),e("span",_l,o(n.trans("Quick Reply")),1)]),e("label",cl,o(n.trans("Overview")),1),d(e("textarea",{"onUpdate:modelValue":l[45]||(l[45]=t=>s(a).plan_data.quick_reply.overview=t),required:"",class:"input"},null,512),[[i,s(a).plan_data.quick_reply.overview]])]),e("div",gl,[e("label",yl,o(n.trans("Add Extra Perks")),1),(p(!0),u(T,null,E(s(a).extra_data,(t,f)=>(p(),u("div",{class:"mb-2 flex items-center gap-x-2",key:f},[d(e("input",{type:"text",class:"input",placeholder:"Key","onUpdate:modelValue":b=>t.key=b},null,8,wl),[[i,t.key]]),d(e("input",{type:"text",class:"input",placeholder:"Value","onUpdate:modelValue":b=>t.value=b},null,8,Vl),[[i,t.value]]),e("button",{type:"button",onClick:b=>h(f),class:"btn btn-danger"},[_(y,{icon:"bx:x",class:"text-lg"})],8,fl)]))),128)),e("button",{type:"button",onClick:C,class:"btn btn-primary"},[_(y,{icon:"bx:plus",class:"text-lg"})])])])],32)])}}});export{Al as default};
