import{c as l,o as r,a0 as $,d as F,s as B,k as L,T,r as S,b as c,a as t,w as I,l as m,t as i,u as a,f as s,F as y,g as f,A as g,i as E,e as V,v as b,n as R}from"./app-CHoD4jNo.js";import{_ as O}from"./AdminLayout-Ddg1XhLg.js";import{_ as P}from"./Paginate-BtBw_72H.js";import{_ as j}from"./NoDataFound-KY-LTui4.js";import{_ as z}from"./FilterDropdown-BWymQW5G.js";import{h as q}from"./moment-BAtM24Ew.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AssetModal-Dh3z8yqV.js";import"./InputFieldError-DJP3I4Ws.js";import"./ToastrContainer-DreH4TsU.js";import"./SpinnerBtn-DagqeiVX.js";const H={},J={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{},width:"24px",height:"24px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"};function K(p,_){return r(),l("svg",J,_[0]||(_[0]=[$('<g transform="rotate(0 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9285714285714286s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(25.714285714285715 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8571428571428571s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(51.42857142857143 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.7857142857142857s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(77.14285714285714 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.7142857142857143s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(102.85714285714286 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6428571428571429s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(128.57142857142858 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5714285714285714s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(154.28571428571428 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(180 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.42857142857142855s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(205.71428571428572 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.35714285714285715s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(231.42857142857142 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.2857142857142857s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(257.14285714285717 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.21428571428571427s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(282.85714285714283 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.14285714285714285s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(308.57142857142856 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.07142857142857142s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(334.2857142857143 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate></rect></g>',14)]))}const Q=G(H,[["render",K]]),W={class:"mb-2"},X={value:""},Z=["value"],tt={class:"mb-2"},et={class:"flex"},at=["disabled"],it={value:""},st=["value"],nt={class:"mb-2"},ot={class:"mb-2"},rt={class:"mb-2"},lt={value:"active"},dt={value:"inactive"},ut={class:"mb-2"},mt={value:""},ct=["value"],pt={class:"mb-2"},ht={class:"flex"},yt={key:0},gt=["disabled"],ft={value:""},_t=["value"],bt={class:"mb-2"},vt={class:"mb-2"},xt={class:"mb-2"},wt={value:"active"},Ct={value:"inactive"},kt={class:"table-responsive whitespace-nowrap rounded-primary"},Nt={class:"table"},Tt={class:"!text-end"},St={key:0},It={class:"text-center"},Et={class:"flex justify-end"},Vt={class:"dropdown","data-placement":"bottom-start"},At={class:"dropdown-toggle"},Dt={class:"dropdown-content w-40"},Ut={class:"dropdown-list"},Mt={class:"dropdown-list-item"},Yt=["onClick"],$t={class:"dropdown-list-item"},Ft=["onClick"],Bt=F({layout:O}),Qt=Object.assign(Bt,{__name:"Index",props:["cities","counter","countries"],setup(p){const{deleteRow:_}=B(),v=L([]),A=[{value:"name",label:"City Name"},{value:"postal_code",label:"Postal Code"},{value:"state_name",label:"State Name"},{value:"country_name",label:"Country Name"},{label:"Status",value:"status",options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}]}],d=T({country_id:"",state_id:"",name:"",postal_code:"",status:"active"}),D=()=>{d.post(route("admin.cities.store"),{onSuccess:()=>drawer.of("#addNewItemDrawer").hide(),onFinish:()=>form.reset()})},o=T({id:null,country_id:"",state_id:"",name:"",postal_code:"",status:"active"}),U=u=>{o.id=u.id,o.country_id=u.country_id,o.state_id=u.state_id,o.name=u.name,o.postal_code=u.postal_code,o.status=u.status,x(o.country_id),drawer.of("#updateItemDrawer").show()},M=()=>{o.put(route("admin.cities.update",o.id),{onSuccess:()=>o.reset(),onFinish:()=>drawer.of("#updateItemDrawer").hide()})},h={states:!1},x=u=>{u&&(h.states=!0,d.reset("country_id"),axios.get(`/api/get-states-by-country/${u}`).then(n=>{v.value=n.data,h.states=!1}))};return(u,n)=>{const C=S("Drawer"),w=S("Icon");return r(),l(y,null,[c(C,{id:"addNewItemDrawer",title:a(s)("Add New City"),handleSubmit:D,processing:a(d).processing},{default:I(()=>[t("div",W,[t("label",null,i(a(s)("Country")),1),m(t("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>a(d).country_id=e),onInput:n[1]||(n[1]=e=>x(e.target.value)),class:"select"},[t("option",X,i(a(s)("SELECT COUNTRY")),1),(r(!0),l(y,null,f(p.countries,e=>(r(),l("option",{key:e.id,value:e.id},i(e.name)+" ("+i(e.code)+") ",9,Z))),128))],544),[[g,a(d).country_id]])]),t("div",tt,[t("label",et,[t("span",null,i(a(s)("State")),1),h.states?(r(),V(Q,{key:0})):E("",!0)]),m(t("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>a(d).state_id=e),class:"select",disabled:h.states},[t("option",it,i(a(s)("SELECT STATE")),1),(r(!0),l(y,null,f(v.value,e=>(r(),l("option",{key:e.id,value:e.id},i(e.name),9,st))),128))],8,at),[[g,a(d).state_id]])]),t("div",nt,[t("label",null,i(a(s)("City Name")),1),m(t("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>a(d).name=e),class:"input",placeholder:"New York"},null,512),[[b,a(d).name]])]),t("div",ot,[t("label",null,i(a(s)("Postal Code")),1),m(t("input",{"onUpdate:modelValue":n[4]||(n[4]=e=>a(d).postal_code=e),class:"input",placeholder:"10001"},null,512),[[b,a(d).postal_code]])]),t("div",rt,[t("label",null,i(a(s)("Status")),1),m(t("select",{"onUpdate:modelValue":n[5]||(n[5]=e=>a(d).status=e),class:"select"},[t("option",lt,i(a(s)("Active")),1),t("option",dt,i(a(s)("Inactive")),1)],512),[[g,a(d).status]])])]),_:1},8,["title","processing"]),c(C,{id:"updateItemDrawer",title:a(s)("Edit City"),handleSubmit:M,processing:a(o).processing},{default:I(()=>[t("div",ut,[t("label",null,i(a(s)("Country")),1),m(t("select",{"onUpdate:modelValue":n[6]||(n[6]=e=>a(o).country_id=e),onInput:n[7]||(n[7]=e=>x(e.target.value)),class:"select"},[t("option",mt,i(a(s)("SELECT COUNTRY")),1),(r(!0),l(y,null,f(p.countries,e=>(r(),l("option",{key:e.id,value:e.id},i(e.name)+" ("+i(e.code)+") ",9,ct))),128))],544),[[g,a(o).country_id]])]),t("div",pt,[t("label",ht,[t("span",null,i(a(s)("State")),1),h.states?(r(),l("span",yt,n[12]||(n[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},[t("g",{transform:"rotate(0 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9285714285714286s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(25.714285714285715 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8571428571428571s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(51.42857142857143 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.7857142857142857s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(77.14285714285714 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.7142857142857143s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(102.85714285714286 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6428571428571429s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(128.57142857142858 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5714285714285714s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(154.28571428571428 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(180 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.42857142857142855s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(205.71428571428572 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.35714285714285715s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(231.42857142857142 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.2857142857142857s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(257.14285714285717 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.21428571428571427s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(282.85714285714283 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.14285714285714285s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(308.57142857142856 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.07142857142857142s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(334.2857142857143 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})])])],-1)]))):E("",!0)]),m(t("select",{"onUpdate:modelValue":n[8]||(n[8]=e=>a(o).state_id=e),class:"select",disabled:h.states},[t("option",ft,i(a(s)("SELECT STATE")),1),(r(!0),l(y,null,f(v.value,e=>(r(),l("option",{key:e.id,value:e.id},i(e.name),9,_t))),128))],8,gt),[[g,a(o).state_id]])]),t("div",bt,[t("label",null,i(a(s)("City Name")),1),m(t("input",{"onUpdate:modelValue":n[9]||(n[9]=e=>a(o).name=e),class:"input",placeholder:"California"},null,512),[[b,a(o).name]])]),t("div",vt,[t("label",null,i(a(s)("Postal Code")),1),m(t("input",{"onUpdate:modelValue":n[10]||(n[10]=e=>a(o).postal_code=e),class:"input",placeholder:"10001"},null,512),[[b,a(o).postal_code]])]),t("div",xt,[t("label",null,i(a(s)("Status")),1),m(t("select",{"onUpdate:modelValue":n[11]||(n[11]=e=>a(o).status=e),class:"select"},[t("option",wt,i(a(s)("Active")),1),t("option",Ct,i(a(s)("Inactive")),1)],512),[[g,a(o).status]])])]),_:1},8,["title","processing"]),c(z,{action:u.route("admin.cities.index"),options:A},null,8,["action"]),t("div",kt,[t("table",Nt,[t("thead",null,[t("tr",null,[t("th",null,i(a(s)("#")),1),t("th",null,i(a(s)("City - Postal Code")),1),t("th",null,i(a(s)("State")),1),t("th",null,i(a(s)("Country")),1),t("th",null,i(a(s)("Status")),1),t("th",null,i(a(s)("Created At")),1),t("th",Tt,i(a(s)("Actions")),1)])]),p.cities.total?(r(),l("tbody",St,[(r(!0),l(y,null,f(p.cities.data,e=>{var k,N;return r(),l("tr",{key:e.id},[t("td",null,i(e.id),1),t("td",null,i(e.name+" - "+e.postal_code),1),t("td",null,i(((k=e.state)==null?void 0:k.name)??"na"),1),t("td",null,i(((N=e.country)==null?void 0:N.name)??"na"),1),t("td",null,[t("div",{class:R([[e.status=="active"?"badge-primary":"badge-secondary"],"badge capitalize"])},i(e.status),3)]),t("td",It,i(a(q)(e.created_at).format("DD MMM, YYYY")),1),t("td",null,[t("div",Et,[t("div",Vt,[t("div",At,[c(w,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",Dt,[t("ul",Ut,[t("li",Mt,[t("button",{onClick:Y=>U(e),class:"dropdown-link"},[c(w,{class:"h-6",icon:"bx:pencil"}),t("span",null,i(a(s)("Edit")),1)],8,Yt)]),t("li",$t,[t("button",{type:"button",class:"dropdown-link",onClick:Y=>a(_)(u.route("admin.cities.destroy",e))},[c(w,{class:"h-6",icon:"material-symbols:delete-outline"}),t("span",null,i(a(s)("Delete")),1)],8,Ft)])])])])])])])}),128))])):(r(),V(j,{key:1,"for-table":"true"}))])]),c(P,{links:p.cities.links},null,8,["links"])],64)}}});export{Qt as default};
