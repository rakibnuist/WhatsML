import{T as v,l as k,r as x,c as n,o as r,b as e,d as w,t as d,a as i,u as l,e as m,v as u,F as c,g as _,f as g,x as V,h as T,i as S}from"./app-B4kV47qU.js";import{_ as U}from"./InputField-DXo1g-Zb.js";import{_ as C}from"./ShortCodes-4WIx1doN.js";import{_ as M}from"./TextareaField-BzKE3deG.js";import{_ as $}from"./SpinnerBtn-B3fjBeDL.js";import{_ as N}from"./UserLayout-DG2qUs8x.js";import{_ as D}from"./RangeSlider-Cql1TtbG.js";import z from"./TemplatePreview-BCVClSSu.js";import"./sharedComposable-VJJUONp6.js";import"./toastComposable-CvcyPmJb.js";import"./Modal-ChMy0A7y.js";import"./modalStore-BgORG3Nn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ToastrContainer-Cfx6wOd2.js";import"./AssetModal-vtiWQmiY.js";import"./IntersectionObserver-DbdokySM.js";import"./assetStore-cDK0Afhq.js";const B={class:"mt-4 grid grid-cols-1 place-items-start gap-6 sm:grid-cols-12"},j={class:"card card-body sm:col-span-9"},A={class:"text-lg font-semibold text-gray-800 dark:text-gray-100"},E={class:"mb-5"},F={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},G={class:"label mb-1 flex items-center"},I=["href"],P={class:"inline-flex items-center"},L={value:""},O=["value"],q={class:"label mb-1 flex items-center"},H=["href"],J={class:"inline-flex items-center"},K={value:""},Q=["value"],R={class:"mt-6 rounded-md border border-gray-200 p-4 dark:border-gray-700"},W={class:"mb-3 text-lg font-medium text-gray-700 dark:text-gray-300"},X={class:"mb-4 grid grid-cols-1 gap-4 md:grid-cols-2"},Y={class:"label mb-1"},Z={value:"text"},ee={value:"template"},te={key:0},se={class:"label mb-1"},le={value:"",disabled:"",selected:""},ae=["value"],oe={class:"col-span-full"},de={for:"device_rotation_duration",class:"label mb-1"},re={class:"flex flex-col rounded-md border border-gray-200 p-4 dark:border-gray-700 md:flex-row md:items-center md:justify-between"},ne={class:"mb-4 flex items-center md:mb-0"},ie={for:"toggle-checkbox_1",class:"toggle"},me={class:"label"},pe={key:0,class:"flex flex-col items-center space-y-3 md:flex-row md:space-x-3 md:space-y-0"},ue={disabled:""},ce=["value"],_e=["min"],ge={class:"mt-6 flex justify-end"},be={type:"button",class:"mr-3 rounded-md border border-gray-300 bg-white px-4 py-2 text-gray-700 shadow-sm hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"},he={class:"w-full sm:col-span-3"},fe={class:"whatsapp-chat-body relative h-[35rem] rounded-xl border-2 border-dark-400 outline outline-4 outline-dark-500 dark:border-dark-800 dark:outline-dark-950"},ye={class:"absolute bottom-3 left-4 w-10/12 rounded-lg bg-white p-1 px-1 dark:bg-dark-700 xl:w-8/12"},ve={key:1,class:"rounded-lg bg-gray-100 p-2 text-xs leading-4 dark:bg-dark-800"},ke={key:2,class:"rounded-lg bg-gray-100 p-2 text-[11px] leading-4 dark:bg-dark-800"},Ge=Object.assign({layout:N},{__name:"Create",props:["platforms","templates","groups","time_zone_list"],setup(p){const f=p,s=v({module:"whatsapp-web",title:"",platform_id:"",group_id:"",template_id:"",message_type:"text",message_template:"",is_scheduled:!1,schedule_at:null,timezone:"Asia/Dhaka",delay_between:[1,100]}),y=()=>{s.post(route("user.whatsapp-web.campaigns.store"))},b=k(()=>f.templates.find(a=>a.id==s.template_id));return(a,o)=>{const h=x("Icon");return r(),n("div",B,[e("div",j,[e("form",{onSubmit:w(y,["prevent"]),class:"space-y-4 rounded-lg"},[e("h2",A,d(a.trans("Create Campaign")),1),e("div",E,[i(U,{modelValue:l(s).title,"onUpdate:modelValue":o[0]||(o[0]=t=>l(s).title=t),label:"Campaign Title",class:"w-full",placeholder:a.trans("Enter a descriptive campaign name")},null,8,["modelValue","placeholder"])]),e("div",F,[e("div",null,[e("label",G,[e("span",null,d(a.trans("Platform")),1),e("a",{href:a.route("user.whatsapp-web.platforms.index"),class:"ml-2 text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300"},[e("span",P,[e("span",null,d(a.trans("Add New")),1),i(h,{class:"ml-1 h-3 w-3",icon:"bx:plus"})])],8,I)]),m(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>l(s).platform_id=t),class:"select 0"},[e("option",L,d(a.trans("Select Platform")),1),(r(!0),n(c,null,_(p.platforms,t=>(r(),n("option",{key:t.id,value:t.id},d(t.name),9,O))),128))],512),[[u,l(s).platform_id]])]),e("div",null,[e("label",q,[e("span",null,d(a.trans("Group")),1),e("a",{href:a.route("user.whatsapp-web.groups.index"),class:"ml-2 text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300"},[e("span",J,[e("span",null,d(a.trans("Add New")),1),i(h,{class:"ml-1 h-3 w-3",icon:"bx:plus"})])],8,H)]),m(e("select",{"onUpdate:modelValue":o[2]||(o[2]=t=>l(s).group_id=t),class:"select"},[e("option",K,d(a.trans("Select Group")),1),(r(!0),n(c,null,_(p.groups,t=>(r(),n("option",{key:t.id,value:t.id},d(t.name),9,Q))),128))],512),[[u,l(s).group_id]])])]),e("div",R,[e("p",W,d(a.trans("Message Configuration")),1),e("div",X,[e("div",null,[e("label",Y,d(a.trans("Message Type")),1),m(e("select",{"onUpdate:modelValue":o[3]||(o[3]=t=>l(s).message_type=t),class:"select"},[e("option",Z,d(a.trans("Text")),1),e("option",ee,d(a.trans("Template")),1)],512),[[u,l(s).message_type]])]),l(s).message_type==="template"?(r(),n("div",te,[e("label",se,d(a.trans("Template")),1),m(e("select",{"onUpdate:modelValue":o[4]||(o[4]=t=>l(s).template_id=t),class:"select"},[e("option",le,d(a.trans("Select Template")),1),(r(!0),n(c,null,_(p.templates,t=>(r(),n("option",{key:t.id,value:t.id},d(t.name),9,ae))),128))],512),[[u,l(s).template_id]])])):g("",!0)]),e("div",oe,[e("label",de,d(a.trans("Message Delay (in seconds)")),1),i(D,{class:"px-1",modelValue:l(s).delay_between,"onUpdate:modelValue":o[5]||(o[5]=t=>l(s).delay_between=t),step:1},null,8,["modelValue"])]),l(s).message_type==="text"?(r(),n(c,{key:0},[i(M,{modelValue:l(s).message_template,"onUpdate:modelValue":o[6]||(o[6]=t=>l(s).message_template=t),label:"Message Template",placeholder:"Enter the campaign message template",attrs:{rows:5}},null,8,["modelValue"]),i(C,{modelValue:l(s).message_template,"onUpdate:modelValue":o[7]||(o[7]=t=>l(s).message_template=t)},null,8,["modelValue"])],64)):g("",!0)]),e("div",re,[e("div",ne,[e("label",ie,[m(e("input",{class:"toggle-input peer sr-only","onUpdate:modelValue":o[8]||(o[8]=t=>l(s).is_scheduled=t),id:"toggle-checkbox_1",type:"checkbox",checked:""},null,512),[[V,l(s).is_scheduled]]),o[11]||(o[11]=e("div",{class:"toggle-body"},null,-1)),e("span",me,d(a.trans("Set Schedule")),1)])]),l(s).is_scheduled?(r(),n("div",pe,[m(e("select",{"onUpdate:modelValue":o[9]||(o[9]=t=>l(s).timezone=t),class:"select select-md"},[e("option",ue,d(a.trans("Select Timezone")),1),(r(!0),n(c,null,_(p.time_zone_list,t=>(r(),n("option",{key:t,value:t},d(t),9,ce))),128))],512),[[u,l(s).timezone]]),m(e("input",{class:"input input-md","onUpdate:modelValue":o[10]||(o[10]=t=>l(s).schedule_at=t),type:"datetime-local",min:new Date},null,8,_e),[[T,l(s).schedule_at]])])):g("",!0)]),e("div",ge,[e("button",be,d(a.trans("Cancel")),1),i($,{"btn-text":a.trans(l(s).is_scheduled?"Schedule Campaign":"Send Now"),type:"submit",class:"btn btn-primary",processing:l(s).processing,icon:l(s).is_scheduled?"fe:clock":"bx:send"},null,8,["btn-text","processing","icon"])])],32)]),e("div",he,[e("div",fe,[e("div",ye,[l(s).message_type=="template"&&b.value?(r(),S(z,{key:0,template:b.value},null,8,["template"])):l(s).message_type=="text"?(r(),n("p",ve,d(l(s).message_template||a.trans("The message will appear here")),1)):(r(),n("p",ke,d(a.trans("The message will appear here")),1))])])])])}}});export{Ge as default};
