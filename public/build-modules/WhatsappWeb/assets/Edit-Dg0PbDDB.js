import{c as p,o as n,a as r,m as w,F as h,T as M,l as $,k as C,p as E,q as L,r as T,b as l,u as a,i as B,f as U,t as b,g as F,d as N}from"./app-B4kV47qU.js";import{_ as R}from"./MultiSelect-Ba8gY0R1.js";import{_ as j}from"./SpinnerBtn-B3fjBeDL.js";import{_ as D}from"./ToastrContainer-Cfx6wOd2.js";import{_ as H}from"./InputField-DXo1g-Zb.js";import{S as m}from"./SelectField-DDQVhg7j.js";import"./multiselect-Bn1369QT.js";import"./toastComposable-CvcyPmJb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={__name:"BlankLayout",setup(i){return(d,e)=>(n(),p(h,null,[r(D),w(d.$slots,"default")],64))}},q={class:"p-4 sm:p-6"},A={class:"mt-8 grid grid-cols-2 place-items-start gap-6 md:grid-cols-12"},K={class:"card col-span-full flex flex-col gap-4 px-4 pb-8 pt-4 md:col-span-4 lg:col-span-2"},O={class:"col-span-full w-full md:col-span-8 lg:col-span-10"},W={class:"mt-3 flex flex-row items-center gap-3"},z={class:"flex flex-row items-center gap-3 md:gap-4"},G=["onClick"],I={class:"mt-6 flex w-full justify-end"},le=Object.assign({layout:P},{__name:"Edit",props:["platforms","autoReply","sort_codes"],setup(i){const d=i,e=M({...d.autoReply});$(()=>{var o;return(o=u.value.find(t=>(t==null?void 0:t.id)==e.template_id))==null?void 0:o.data}),E(()=>{e.platform_id&&c(e.platform_id)}),L(()=>e.platform_id,function(o,t){o&&c(o)});const u=C([]),c=o=>{axios.get(`/user/whatsapp/get-device-template-list/?platform_id=${o}`).then(t=>{u.value=t.data}).catch(t=>{console.error(t)})},x=()=>{e.put(route("user.whatsapp-web.auto-replies.update",d.autoReply))},V=o=>{e.message_template=`${e.message_template}${o}`};return(o,t)=>{var g,_,f,v,y;const k=T("PageHeader");return n(),p("main",q,[r(k),l("form",{onSubmit:N(x,["prevent"])},[l("div",A,[l("div",K,[r(m,{label:"Select A Device",modelValue:a(e).platform_id,"onUpdate:modelValue":t[0]||(t[0]=s=>a(e).platform_id=s),placeholder:"SELECT",validationMessage:(g=a(e).errors)==null?void 0:g.platform_id,options:i.platforms},null,8,["modelValue","validationMessage","options"]),r(R,{label:"Keywords",modelValue:a(e).keywords,"onUpdate:modelValue":t[1]||(t[1]=s=>a(e).keywords=s),placeholder:"enter keywords",validationMessage:(_=a(e).errors)==null?void 0:_.keywords,options:[]},null,8,["modelValue","validationMessage"]),r(m,{label:"Select Type",modelValue:a(e).message_type,"onUpdate:modelValue":t[2]||(t[2]=s=>a(e).message_type=s),placeholder:"SELECT",validationMessage:(f=a(e).errors)==null?void 0:f.message_type,options:["text"]},null,8,["modelValue","validationMessage"]),r(m,{label:"Status",modelValue:a(e).status,"onUpdate:modelValue":t[3]||(t[3]=s=>a(e).status=s),placeholder:"SELECT",validationMessage:(v=a(e).errors)==null?void 0:v.status,options:["active","inactive"]},null,8,["modelValue","validationMessage"])]),l("div",O,[a(e).message_type==="text"?(n(),B(H,{key:0,label:"Message",modelValue:a(e).message_template,"onUpdate:modelValue":t[4]||(t[4]=s=>a(e).message_template=s),placeholder:"ex: Winter sale campaign ",validationMessage:(y=a(e).errors)==null?void 0:y.message_template},null,8,["modelValue","validationMessage"])):U("",!0),l("div",W,[l("p",null,b(o.trans("Short codes"))+":",1),l("div",z,[(n(!0),p(h,null,F(i.sort_codes,(s,S)=>(n(),p("button",{key:S,type:"button",class:"btn short_code_button bg-slate-300 text-xs text-gray-700 hover:bg-opacity-60 dark:bg-dark-700 dark:text-white dark:hover:bg-opacity-60",onClick:J=>V(s)},b(s),9,G))),128))])]),l("div",I,[r(j,{processing:a(e).processing,"btn-text":"Save Changes"},null,8,["processing"])])])])],32)])}}});export{le as default};
