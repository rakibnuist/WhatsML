import{T as O,D as b,p as R,c as p,o,b as d,d as s,t as i,f as A,g as v,u as t,v as $,k as n,j as S,F as C}from"./app-fEKA3BkQ.js";import{_ as w}from"./BlankLayout-CgEiBQ1a.js";import{e as I,a as U}from"./PageHeader-DmRLoM5E.js";import{_ as V}from"./InputField-ByPNVu2m.js";import{_ as L}from"./CreateForm-Bef851jc.js";import D from"./InteractiveMessage-GTvMPNF-.js";import{S as P}from"./SelectField-b39MFXJO.js";import B from"./MessagePreview-Cp4YODco.js";import F from"./Text-DQuaCzU4.js";import H from"./Image-Bgcob_cY.js";import Y from"./Audio-BAPXizxL.js";import z from"./Video-BcrpHkyf.js";import W from"./Document-BXJ8i62T.js";import j from"./Contact-D4ibALps.js";import K from"./Location-DVtWsmq8.js";import"./assetStore-BSVLrDIW.js";import"./ShortCodes-DozWnzPr.js";import"./AssetInput-EWE_Aw8o.js";import"./dynamic-import-helper-BheWnx7M.js";import"./SpinnerBtn-BezRkGQj.js";import"./TextInput-DuD-hBt8.js";const X={class:"p-4 sm:p-6"},Z={class:"mt-8 grid grid-cols-2 place-items-start gap-6 md:grid-cols-12"},q={class:"col-span-full md:col-span-4 lg:col-span-2"},G={class:"mb-2 rounded border-b bg-slate-100 px-2 py-2 text-center capitalize dark:border-dark-700 dark:bg-dark-800"},J={class:"card flex flex-col gap-4 p-3"},Q={value:"button"},ee={value:"cta_url"},te={value:"product"},ae={value:"list"},se={value:"product_list"},oe={value:"catalog_message"},ie={class:"col-span-full w-full md:col-span-8 lg:col-span-10"},ne={class:"grid grid-cols-1 gap-2 md:grid-cols-5"},re={class:"md:col-span-3"},le={key:0,class:"mb-2 rounded border-b bg-slate-100 px-2 py-2 text-center capitalize dark:border-dark-700 dark:bg-dark-800"},me={key:9},pe={class:"alert alert-info text-center"},de={class:"md:col-span-2"},ce={class:"mt-2 flex justify-end"},Ie=Object.assign({layout:w},{__name:"Create",props:["template"],setup(k){var g,y,f;const l=k,c=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),h=["text","image","audio","video","document","location","contact","interactive"],_={text:{preview_url:!1,body:""},image:{caption:"",link:""},audio:{link:""},video:{caption:"",link:""},document:{caption:"",link:""},location:{longitude:"",latitude:"",name:"",address:""},contact:{addresses:[{street:"STREET",city:"CITY",state:"STATE",zip:"ZIP",country:"COUNTRY",country_code:"COUNTRY_CODE",type:"HOME"}],birthday:"YEAR_MONTH_DAY",emails:[{email:"EMAIL",type:"WORK"},{email:"EMAIL",type:"HOME"}],name:{formatted_name:"NAME",first_name:"FIRST_NAME",last_name:"LAST_NAME",middle_name:"MIDDLE_NAME",suffix:"SUFFIX",prefix:"PREFIX"},org:{company:"COMPANY",department:"DEPARTMENT",title:"TITLE"},phones:[{phone:"PHONE_NUMBER",type:"HOME"},{phone:"PHONE_NUMBER",type:"WORK",wa_id:"PHONE_OR_WA_ID"}],urls:[{url:"URL",type:"WORK"},{url:"URL",type:"HOME"}]}},u={button:{buttons:[{type:"reply",reply:{id:c(),title:""}}]},cta_url:{name:"cta_url",parameters:{display_text:"Visit our website",url:"https://example.com"}},list:{button:"BUTTON_TEXT",sections:[{title:"",rows:[{id:c(),title:"",description:""}]}]},catalog_message:{name:"catalog_message",parameters:{thumbnail_product_retailer_id:""}},product:{catalog_id:"",product_retailer_id:""},product_list:{catalog_id:"",sections:[{title:"",product_items:[{product_retailer_id:""}]}]}},E={type:"button",header:{type:"text",text:""},body:{text:""},footer:{text:""},action:u.button},e=O({name:((g=l.template)==null?void 0:g.name)??"",message_type:((y=l.template)==null?void 0:y.type)??"text",meta:((f=l.template)==null?void 0:f.meta)??_.text,_method:l.template?"put":"post"}),M=a=>{a=="interactive"?e.meta=E:e.meta=_[a]},T=a=>{a&&(e.meta.action={...u[a]})};b(()=>e.message_type,M),b(()=>{var a;return(a=e.meta)==null?void 0:a.type},T);const N=()=>{let a="/user/whatsapp/templates";l.template&&(a=`/user/whatsapp/templates/${l.template.id}`),e.post(a)},x=R(()=>({type:e.message_type,body:e.meta}));return(a,r)=>(o(),p(C,null,[d(I),s("main",X,[d(U),s("div",Z,[s("div",q,[s("div",G,i(a.trans("Template")),1),s("div",J,[d(V,{label:"Name",modelValue:t(e).name,"onUpdate:modelValue":r[0]||(r[0]=m=>t(e).name=m),placeholder:"Template name",validationMessage:t(e).errors.name},null,8,["modelValue","validationMessage"]),d(P,{label:"Message Type",modelValue:t(e).message_type,"onUpdate:modelValue":r[1]||(r[1]=m=>t(e).message_type=m),placeholder:"SELECT",options:h},null,8,["modelValue"]),t(e).message_type=="interactive"?A((o(),p("select",{key:0,class:"select","onUpdate:modelValue":r[2]||(r[2]=m=>t(e).meta.type=m)},[s("option",Q,i(a.trans("Button")),1),s("option",ee,i(a.trans("Call to Action URL")),1),s("option",te,i(a.trans("Product")),1),s("option",ae,i(a.trans("List")),1),s("option",se,i(a.trans("Product List")),1),s("option",oe,i(a.trans("Catalog Message")),1)],512)),[[$,t(e).meta.type]]):v("",!0)])]),s("div",ie,[s("div",ne,[s("div",re,[t(e).message_type!=="interactive"?(o(),p("div",le,i(t(e).message_type)+" "+i(a.trans("Message")),1)):v("",!0),t(e).message_type=="text"?(o(),n(F,{key:1,text:t(e).meta},null,8,["text"])):t(e).message_type=="image"?(o(),n(H,{key:2,image:t(e).meta},null,8,["image"])):t(e).message_type=="video"?(o(),n(z,{key:3,video:t(e).meta},null,8,["video"])):t(e).message_type=="audio"?(o(),n(Y,{key:4,audio:t(e).meta},null,8,["audio"])):t(e).message_type=="document"?(o(),n(W,{key:5,document:t(e).meta},null,8,["document"])):t(e).message_type=="location"?(o(),n(K,{key:6,location:t(e).meta},null,8,["location"])):t(e).message_type=="contact"?(o(),n(j,{key:7,contact:t(e).meta},null,8,["contact"])):t(e).message_type=="interactive"?(o(),n(L,{key:8,meta:t(e).meta,errors:t(e).errors},null,8,["meta","errors"])):(o(),p("div",me,[s("div",pe,[s("b",null,'"'+i(t(e).message_type)+'"',1),S(i(a.trans("message is not supported yet")),1)])]))]),s("div",de,[r[3]||(r[3]=s("div",{class:"mb-2 rounded border-b bg-slate-100 px-2 py-2 text-center capitalize dark:border-dark-700 dark:bg-dark-800"}," Preview ",-1)),t(e).message_type=="interactive"?(o(),n(D,{key:0,components:t(e).meta},null,8,["components"])):(o(),n(B,{key:1,message:x.value},null,8,["message"])),s("div",ce,[s("button",{onClick:N,class:"btn btn-primary"},i(a.trans("Save Template")),1)])])])])])])],64))}});export{Ie as default};
