import{c as d,o,h as y,g as n,d as e,t as i,F as v,k as S,b as m,f,i as x,j as V}from"./app-fEKA3BkQ.js";import{_ as C}from"./ShortCodes-DozWnzPr.js";import{_ as b}from"./InputField-ByPNVu2m.js";import{_ as E}from"./AssetInput-EWE_Aw8o.js";const z={key:0,class:"mb-5 rounded-lg border dark:border-dark-700"},M={class:"rounded-b-none rounded-t-lg border-b bg-slate-100 px-2 py-2 text-center capitalize dark:border-dark-700 dark:bg-dark-800"},R={key:0,class:"space-y-2 p-2"},A={class:"w-full"},D=["onChange"],N=["value"],F={class:"align-end flex flex-col justify-between gap-1"},L={for:""},K={key:0},O={key:1,class:"space-y-2 p-2"},P={class:"align-end flex flex-col justify-between gap-1"},q=["onUpdate:modelValue"],H={key:0,class:"text-sm text-red-600"},W={key:2,class:"space-y-2 p-2"},Y={class:"align-end flex flex-col justify-between gap-1"},G={key:3,class:"mt-3 space-y-3 p-2"},J={key:0,class:"p-1"},Q={for:""},X={class:"flex gap-1"},Z=["onUpdate:modelValue"],I=["onClick"],ee={key:1,class:"p-1"},te={class:"mb-2"},le={for:""},se=["onUpdate:modelValue"],ae={class:"mb-2"},oe={for:""},de=["onUpdate:modelValue"],ie={key:2},ne={class:"mb-2 grid grid-cols-2 items-center gap-3"},re={class:"whitespace-nowrap text-sm font-semibold"},ue={key:3},ce={class:"mb-4 grid grid-cols-2 items-center gap-3"},pe={class:"col-span-full text-sm"},me={class:"grid grid-cols-2 items-center gap-3 pb-3"},_e={class:"whitespace-nowrap text-sm font-semibold"},be={class:"col-span-full text-sm"},he={key:4},ye={class:"w-full"},ve={class:"mt-3 flex flex-col gap-2"},fe={class:"flex items-center justify-between"},xe={class:"label capitalize"},ge=["onClick"],Ve={class:"flex items-center justify-between"},ke={class:"label mb-1"},Ue=["onClick"],Ce={class:"w-full"},we={class:"flex flex-col gap-3"},je={class:"grid grid-cols-2 gap-3"},$e={class:"w-full"},Be={class:"w-full"},Te={class:"flex items-center justify-between"},Se={class:"label mb-1 capitalize"},Ee=["onClick"],ze={key:0,class:"mt-2 flex justify-end"},Me=["onClick"],Re={key:5},Ae={class:"w-full"},De={class:"label mb-1 capitalize"},Ne=["onUpdate:modelValue"],Fe={class:"flex flex-col gap-3"},Le={class:"mt-2 flex items-center justify-between"},Ke={class:"label mb-1 capitalize"},Oe=["onClick"],Pe={class:"mb-6"},qe={class:"flex items-center justify-between"},He={class:"label mb-1"},We=["onClick"],Ye=["onUpdate:modelValue"],Ge={class:"flex flex-col gap-4"},Je={class:"w-full"},Qe={class:"flex items-center justify-between"},Xe={class:"label mb-1 capitalize"},Ze=["onClick"],Ie=["onUpdate:modelValue"],et={key:0,class:"mt-3 flex justify-end"},tt=["onClick"],dt={__name:"CreateForm",props:{meta:Object,errors:{type:Object,default:[]},preview:{type:Boolean,default:!0}},setup(c){const g=c,j=["text","image","video","document"],w=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),k=(s,a)=>{s=="row"?a.rows.push({id:"",title:"",description:""}):s=="section"?a.sections.push({rows:[{id:w(),title:"",description:""}]}):s=="product_items"&&a.product_items.push({product_retailer_id:""})},U=(s,a,l=null)=>{s=="section"?a.sections.splice(l,1):s=="row"?a.rows.splice(l,1):s=="product_items"&&a.product_items.splice(l,1)},$=()=>{let s=g.meta.action.buttons??[];s.length>=3||s.push({type:"reply",reply:{id:w(),title:""}})},B=s=>{(g.meta.action.buttons??[]).length<=1||(g.meta.action.buttons=g.meta.action.buttons.filter(l=>l.reply.id!=s))},T=(s,a)=>{s[s.type]=void 0,s.type=a,a=="text"?s.text="":s[a]={link:""}};return(s,a)=>(o(!0),d(v,null,y(g.meta,(l,h)=>(o(),d("div",{key:h,class:"col-span-full w-full md:col-span-2"},[["type","schedule_timezone","schedule_timestamp"].includes(h)?n("",!0):(o(),d("div",z,[e("div",M,i(h),1),h=="header"?(o(),d("div",R,[e("div",A,[a[1]||(a[1]=e("label",{class:"label mb-1 capitalize"},"Type",-1)),e("select",{class:"select",onChange:t=>T(l,t.target.value)},[(o(),d(v,null,y(j,(t,u)=>e("option",{key:u,value:t},i(t),9,N)),64))],40,D)]),e("div",F,[e("label",L,i(l.type),1),l.type=="text"?(o(),d("div",K,[m(b,{modelValue:l.text,"onUpdate:modelValue":t=>l.text=t,placeholder:"Enter text value","validation-message":c.errors["meta.header.text"],"max-length":"60"},null,8,["modelValue","onUpdate:modelValue","validation-message"]),m(C,{modelValue:l.text,"onUpdate:modelValue":t=>l.text=t},null,8,["modelValue","onUpdate:modelValue"])])):(o(),S(E,{key:1,type:l.type,modelValue:l[l.type].link,"onUpdate:modelValue":t=>l[l.type].link=t},null,8,["type","modelValue","onUpdate:modelValue"]))])])):n("",!0),h=="body"?(o(),d("div",O,[e("div",P,[f(e("textarea",{"onUpdate:modelValue":t=>l.text=t,class:"input",placeholder:"Enter text message"},null,8,q),[[x,l.text]]),c.errors["meta.body.text"]?(o(),d("p",H,i(c.errors["meta.body.text"]),1)):n("",!0),m(C,{modelValue:l.text,"onUpdate:modelValue":t=>l.text=t},null,8,["modelValue","onUpdate:modelValue"])])])):n("",!0),h=="footer"?(o(),d("div",W,[e("div",Y,[m(b,{modelValue:l.text,"onUpdate:modelValue":t=>l.text=t,"max-length":"60",placeholder:"Enter text value","validation-message":c.errors["meta.footer.text"]},null,8,["modelValue","onUpdate:modelValue","validation-message"]),m(C,{modelValue:l.text,"onUpdate:modelValue":t=>l.text=t},null,8,["modelValue","onUpdate:modelValue"])])])):n("",!0),h==="action"?(o(),d("div",G,[c.meta.type=="button"?(o(),d("div",J,[c.meta.action.buttons.length<3?(o(),d("button",{key:0,type:"button",onClick:a[0]||(a[0]=t=>$()),class:"btn btn-primary"}," + ")):n("",!0),(o(!0),d(v,null,y(l.buttons,(t,u)=>(o(),d("div",{key:u,class:"mb-2"},[e("label",Q,i(s.trans("Button"))+" "+i(u+1),1),e("div",X,[f(e("input",{type:"text","onUpdate:modelValue":r=>t.reply.title=r,class:"input",placeholder:"enter button text"},null,8,Z),[[x,t.reply.title]]),e("button",{onClick:r=>B(t.reply.id),class:"btn btn-danger"},"-",8,I)])]))),128))])):n("",!0),c.meta.type=="cta_url"?(o(),d("div",ee,[e("div",te,[e("label",le,i(s.trans("Button Text")),1),f(e("input",{type:"text","onUpdate:modelValue":t=>l.parameters.display_text=t,class:"input"},null,8,se),[[x,l.parameters.display_text]])]),e("div",ae,[e("label",oe,i(s.trans("Button Url")),1),f(e("input",{type:"text","onUpdate:modelValue":t=>l.parameters.url=t,class:"input"},null,8,de),[[x,l.parameters.url]])])])):n("",!0),c.meta.type=="catalog_message"?(o(),d("div",ie,[e("div",ne,[e("p",re,i(s.trans("Thumbnail Product Retailer Id")),1),m(b,{modelValue:l.thumbnail_product_retailer_id,"onUpdate:modelValue":t=>l.thumbnail_product_retailer_id=t,placeholder:"ex: text"},null,8,["modelValue","onUpdate:modelValue"])])])):n("",!0),c.meta.type=="product"?(o(),d("div",ue,[V(i(s.trans(""))+" ",1),e("div",ce,[a[2]||(a[2]=e("p",{class:"whitespace-nowrap text-sm font-semibold"},"Enter Catalog Id (*)",-1)),m(b,{modelValue:l.catalog_id,"onUpdate:modelValue":t=>l.catalog_id=t,placeholder:"ex: 2lc20305pt"},null,8,["modelValue","onUpdate:modelValue"]),e("div",pe,i(s.trans(`Unique identifier of the Facebook catalog linked to your WhatsApp Business Account.
              This ID can be retrieved via the Meta Commerce Manager.`)),1)]),e("div",me,[e("p",_e,i(s.trans("Product Retailer Id"))+" (*) ",1),m(b,{modelValue:l.product_retailer_id,"onUpdate:modelValue":t=>l.product_retailer_id=t,placeholder:"product-SKU-in-catalog"},null,8,["modelValue","onUpdate:modelValue"]),e("div",be,i(s.trans(`To get this ID go to Meta Commerce Manager and select your Meta Business account. You
              will see a list of shops connected to your account. Click the shop you want to use. On
              the left-side panel, click Catalog > Items, and find the item you want to mention. The
              ID for that item is displayed under the item's name.`)),1)])])):n("",!0),c.meta.type=="list"?(o(),d("div",he,[e("div",ye,[m(b,{label:"List Button Text",modelValue:l.button,"onUpdate:modelValue":t=>l.button=t,placeholder:"Enter action title"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",ve,[e("div",fe,[e("label",xe,i(s.trans("Section List")),1),e("button",{type:"button",onClick:t=>k("section",l),class:"btn btn-primary btn-sm"},[a[3]||(a[3]=e("i",{class:"bx bx-plus"},null,-1)),V(" "+i(s.trans("Add Section")),1)],8,ge)]),(o(!0),d(v,null,y(l.sections,(t,u)=>(o(),d("div",{key:u,class:"space-y-1 rounded-lg border-t-2 border-t-purple-600 p-2"},[e("div",Ve,[e("label",ke,i(s.trans(""))+" "+i(s.trans("Section"))+" "+i(u+1)+" Title ",1),u!=0?(o(),d("div",{key:0,onClick:r=>U("section",l,u),class:"cursor-pointer text-xl text-red-600 hover:text-red-700"},a[4]||(a[4]=[e("i",{class:"bx bx-trash"},null,-1)]),8,Ue)):n("",!0)]),e("div",Ce,[m(b,{modelValue:t.title,"onUpdate:modelValue":r=>t.title=r,placeholder:"Enter section title"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",we,[(o(!0),d(v,null,y(t.rows,(r,p)=>(o(),d("div",{key:p,class:"flex flex-col gap-3"},[e("div",null,[e("div",je,[e("div",$e,[m(b,{label:`Item ${p+1} Title`,modelValue:r.title,"onUpdate:modelValue":_=>r.title=_,placeholder:"Enter title"},null,8,["label","modelValue","onUpdate:modelValue"])]),e("div",Be,[e("div",Te,[e("label",Se,i(s.trans("Item"))+" "+i(p+1)+" "+i(s.trans("Description")),1),p!=0?(o(),d("div",{key:0,onClick:_=>U("row",t,p),class:"cursor-pointer text-xl text-red-600 hover:text-red-700"},a[5]||(a[5]=[e("i",{class:"bx bx-trash"},null,-1)]),8,Ee)):n("",!0)]),m(b,{modelValue:r.description,"onUpdate:modelValue":_=>r.description=_,placeholder:"Enter description"},null,8,["modelValue","onUpdate:modelValue"])])]),p+1===t.rows.length?(o(),d("div",ze,[e("button",{type:"button",onClick:_=>k("row",t),class:"btn btn-primary btn-xs"},[a[6]||(a[6]=e("i",{class:"bx bx-plus"},null,-1)),V(" "+i(s.trans("Add Row")),1)],8,Me)])):n("",!0)])]))),128))])]))),128))])])):n("",!0),c.meta.type=="product_list"?(o(),d("div",Re,[e("div",Ae,[e("label",De,i(s.trans("Enter Catalog Id")),1),f(e("input",{type:"text",class:"input",placeholder:"Example: t-56fdofer","onUpdate:modelValue":t=>l.catalog_id=t},null,8,Ne),[[x,l.catalog_id]])]),e("div",null,[e("div",Fe,[e("div",Le,[e("label",Ke,i(s.trans("Section List")),1),e("button",{type:"button",onClick:t=>k("section",l),class:"btn btn-primary btn-sm"},[a[7]||(a[7]=e("i",{class:"bx bx-plus"},null,-1)),V(" "+i(s.trans("Add Section")),1)],8,Oe)]),(o(!0),d(v,null,y(l.sections,(t,u)=>(o(),d("div",{key:u,class:"space-y-1 rounded-lg border-t-2 border-t-purple-600 p-2"},[e("div",Pe,[e("div",qe,[e("label",He,i(s.trans(""))+" "+i(s.trans("Section"))+" "+i(u+1)+" "+i(s.trans("Title")),1),u!=0?(o(),d("div",{key:0,onClick:r=>U("section",l,u),class:"cursor-pointer text-xl text-red-600 hover:text-red-700"},a[8]||(a[8]=[e("i",{class:"bx bx-trash"},null,-1)]),8,We)):n("",!0)]),f(e("input",{type:"text",class:"input",placeholder:"product-SKU-in-catalog","onUpdate:modelValue":r=>t.title=r},null,8,Ye),[[x,t.title]])]),e("div",Ge,[(o(!0),d(v,null,y(t.product_items,(r,p)=>(o(),d("div",{key:p,class:"flex flex-col gap-3"},[e("div",null,[e("div",Je,[e("div",Qe,[e("label",Xe,i(s.trans("Product Retailer Id"))+" "+i(p+1),1),p!=0?(o(),d("div",{key:0,onClick:_=>U("product_items",t,p),class:"cursor-pointer text-xl text-red-600 hover:text-red-700"},a[9]||(a[9]=[e("i",{class:"bx bx-trash"},null,-1)]),8,Ze)):n("",!0)]),f(e("input",{type:"text",class:"input",placeholder:"product-SKU-in-catalog","onUpdate:modelValue":_=>r.product_retailer_id=_},null,8,Ie),[[x,r.product_retailer_id]])]),p+1===t.product_items.length?(o(),d("div",et,[e("button",{onClick:_=>k("product_items",t),type:"button",class:"btn btn-primary btn-sm"},[a[10]||(a[10]=e("i",{class:"bx bx-plus"},null,-1)),V(" "+i(s.trans("Add Row")),1)],8,tt)])):n("",!0)])]))),128))])]))),128))])])])):n("",!0)])):n("",!0)]))]))),128))}};export{dt as _};
